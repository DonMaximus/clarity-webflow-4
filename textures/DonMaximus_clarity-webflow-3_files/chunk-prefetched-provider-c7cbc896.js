System.register(["./chunk-vendor.js","./chunk-frameworks.js","./chunk-copy.js"],(function(t){"use strict";var e,s,i,r,n,o,a,l,c,h,p;return{setters:[function(t){e=t.j,s=t.t,i=t.b,r=t.c,n=t.$,o=t.a0},function(t){a=t.t,l=t.aH,c=t.aI,h=t.aJ},function(t){p=t.c}],execute:function(){t({i:H,s:M});var d=Object.defineProperty,m=Object.getOwnPropertyDescriptor,u=(t,e)=>d(t,"name",{value:e,configurable:!0}),g=(t,e,s,i)=>{for(var r,n=i>1?void 0:i?m(e,s):e,o=t.length-1;o>=0;o--)(r=t[o])&&(n=(i?r(e,s,n):r(n))||n);return i&&n&&d(e,s,n),n};let y=class extends HTMLElement{constructor(){super(...arguments),this.smallDisplay=!1}connectedCallback(){this.classList.add("d-inline-flex")}get lastToken(){return this.tokens[this.tokens.length-1]}get text(){return this.tokens.map((t=>t.text)).join("/")}get id(){return this.lastToken?this.lastToken.id:y.emptyScope.id}get type(){return this.lastToken?this.lastToken.type:y.emptyScope.type}get scope(){return this.hasScope()?{text:this.text,type:this.type,id:this.id,tokens:this.tokens}:y.emptyScope}set scope(t){this.renderTokens(t.tokens)}renderTokens(t){this.clearScope();let e=0,s=t.length;const i=this.smallDisplay?14:20,r=this.smallDisplay?20:55;for(let n=t.length-1;n>=0&&!(e+Math.min(t[n].text.length,i)+5>r);n--)e+=Math.min(t[n].text.length,i)+5,s=n;const a=u((t=>o`${t.map(l)}`),"tokensTemplate"),l=u(((t,e)=>{const r=t.text.length>i?`${t.text.substring(0,i-3)}...`:t.text;return o`
        <command-palette-token
          data-text="${t.text}"
          data-id="${t.id}"
          data-type="${t.type}"
          data-value="${t.value}"
          data-targets="command-palette-scope.tokens"
          hidden="${e<s}"
          class="color-fg-default text-semibold"
          style="white-space: nowrap;"
          >${r}<span class="color-fg-subtle text-normal">&nbsp;&nbsp;/&nbsp;&nbsp;</span>
        </command-palette-token>
      `}),"tokenTemplate");n(a(t),this),this.hidden=!this.hasScope(),0!==s&&(this.placeholder.hidden=!1)}removeToken(){this.lastToken&&(this.lastRemovedToken=this.lastToken,this.lastToken.remove(),this.renderTokens(this.tokens))}hasScope(){return this.tokens.length>0&&this.type&&this.id&&this.text}clearScope(){for(const t of this.tokens)t.remove();this.placeholder.hidden=!0}attributeChangedCallback(t,e,s){"data-small-display"===t&&e!==s&&this.renderTokens(this.tokens)}};u(y,"CommandPaletteScopeElement"),y.emptyScope={type:"",text:"",id:"",tokens:[]},g([e],y.prototype,"smallDisplay",2),g([s],y.prototype,"placeholder",2),g([i],y.prototype,"tokens",2),y=g([r],y);var b=Object.defineProperty,f=Object.getOwnPropertyDescriptor,v=(t,e)=>b(t,"name",{value:e,configurable:!0}),T=(t,e,s,i)=>{for(var r,n=i>1?void 0:i?f(e,s):e,o=t.length-1;o>=0;o--)(r=t[o])&&(n=(i?r(e,s,n):r(n))||n);return i&&n&&b(e,s,n),n};let x=t("C",class extends HTMLElement{constructor(){super(...arguments),this.defaultPriority=0}connectedCallback(){this.classList.add("py-2","border-top"),this.setAttribute("hidden","true"),this.renderElement("")}prepareForNewItems(){this.list.innerHTML="",this.setAttribute("hidden","true"),this.classList.contains("border-top")||this.classList.add("border-top")}hasItem(t){return this.list.querySelectorAll(`[data-item-id="${t.id}"]`).length>0}renderElement(t){n(v((()=>this.hasTitle?o`
          <div class="d-flex flex-justify-between my-2 px-3">
            <span data-target="command-palette-item-group.header" class="color-fg-muted text-bold f6 text-normal">
              ${this.groupTitle}
            </span>
            <span data-target="command-palette-item-group.header" class="color-fg-muted f6 text-normal">
              ${t?"":this.groupHint}
            </span>
          </div>
          <div
            role="listbox"
            class="list-style-none"
            data-target="command-palette-item-group.list"
            aria-label="${this.groupTitle} results"
          ></div>
        `:o`
          <div
            role="listbox"
            class="list-style-none"
            data-target="command-palette-item-group.list"
            aria-label="${this.groupTitle} results"
          ></div>
        `),"groupTemplate")(),this)}push(t){this.removeAttribute("hidden"),this.topGroup&&this.atLimit?t.itemId!==this.firstItem.itemId&&this.replaceTopGroupItem(t):this.list.append(t)}replaceTopGroupItem(t){this.list.replaceChild(t,this.firstItem)}groupLimitForScope(){const t=this.closest("command-palette");if(t){const e=t.query.scope.type;return JSON.parse(this.groupLimits)[e]}}get limit(){const t=this.groupLimitForScope();return this.topGroup?1:this.isModeActive()?50:t||x.defaultGroupLimit}isModeActive(){const t=this.closest("command-palette");return!!t&&t.getMode()}get atLimit(){return this.list.children.length>=this.limit}get topGroup(){return this.groupId===x.topGroupId}get hasTitle(){return this.groupId!==x.footerGroupId}get itemNodes(){return this.list.querySelectorAll("command-palette-item")}get firstItem(){return this.itemNodes[0]}get lastItem(){return this.itemNodes[this.itemNodes.length-1]}});v(x,"CommandPaletteItemGroupElement"),x.defaultGroupLimit=5,x.topGroupId="top",x.defaultGroupId="default",x.footerGroupId="footer",x.helpGroupIds=["modes_help","filters_help"],x.commandGroupIds=["commands"],x.topGroupScoreThreshold=9,T([e],x.prototype,"groupTitle",2),T([e],x.prototype,"groupHint",2),T([e],x.prototype,"groupId",2),T([e],x.prototype,"groupLimits",2),T([e],x.prototype,"defaultPriority",2),T([s],x.prototype,"list",2),T([s],x.prototype,"header",2),x=t("C",T([r],x));var k=Object.defineProperty,I=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,E=(t,e,s)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;class _{constructor(t,e,{scope:s,subjectId:i,subjectType:r,returnTo:n}={}){this.queryText=t,this.queryMode=e,this.scope=null!=s?s:y.emptyScope,this.subjectId=i,this.subjectType=r,this.returnTo=n}get text(){return this.queryText}get mode(){return this.queryMode}get path(){return this.buildPath(this)}buildPath(t,e=t.text){return`scope:${t.scope.type}-${t.scope.id}/mode:${t.mode}/query:${e}`}clearScope(){this.scope=y.emptyScope}hasScope(){return this.scope.id!==y.emptyScope.id}isBlank(){return 0===this.text.trim().length}isPresent(){return!this.isBlank()}immutableCopy(){const t=this.text,e=this.mode,s=((t,e)=>{for(var s in e||(e={}))C.call(e,s)&&E(t,s,e[s]);if(I)for(var s of I(e))S.call(e,s)&&E(t,s,e[s]);return t})({},this.scope);return new _(t,e,{scope:s,subjectId:this.subjectId,subjectType:this.subjectType,returnTo:this.returnTo})}hasSameScope(t){return this.scope.id===t.scope.id}params(){const t=new URLSearchParams;return this.isPresent()&&t.set("q",this.text),this.hasScope()&&t.set("scope",this.scope.id),this.mode&&t.set("mode",this.mode),this.returnTo&&t.set("return_to",this.returnTo),this.subjectId&&t.set("subject",this.subjectId),t}}t("Q",_),k(_,"name",{value:"Query",configurable:!0});var j=Object.defineProperty,w=Object.getOwnPropertyDescriptor,$=(t,e)=>j(t,"name",{value:e,configurable:!0}),L=(t,e,s,i)=>{for(var r,n=i>1?void 0:i?w(e,s):e,o=t.length-1;o>=0;o--)(r=t[o])&&(n=(i?r(e,s,n):r(n))||n);return i&&n&&j(e,s,n),n};let P=class extends HTMLElement{constructor(){super(...arguments),this.subtitle="",this.selected=!1,this.titleNodes=[],this.rendered=!1,this.newTabOpened=!1,this.containerDataTarget="command-palette-item.containerElement",this.containerClasses="mx-2 px-2 rounded-2 d-flex flex-items-start no-underline border-0",this.containerStyle="padding-top: 10px; padding-bottom: 10px; cursor: pointer;"}renderOcticon(t){this.iconElement.innerHTML=t}renderAvatar(t,e){n(this.item.getAvatarTemplate(t,e),this.iconElement)}setItemAttributes(t){this.item=t,this.itemId=t.id,this.itemTitle=t.title,this.hint=t.hint,this.href=t.path,t.subtitle&&(this.subtitle=t.subtitle)}connectedCallback(){this.subtitle&&this.subtitleElement.removeAttribute("hidden"),this.titleNodes.length>0&&(this.titleElement.textContent="",this.titleElement.append(...this.titleNodes)),this.containerElement.addEventListener("click",(t=>{this.item.activate(this.commandPalette,t)}))}get commandPalette(){return this.closest("command-palette")}attributeChangedCallback(t,e,s){this.rendered&&("data-selected"===t?(this.setSelectionAppearance(),this.item.select(this)):"data-item-title"===t?this.titleElement.textContent=s:"data-subtitle"===t&&(this.subtitleElement.textContent=s))}setSelectionAppearance(){this.selected?(this.containerElement.classList.add("color-bg-subtle"),this.hintText.hidden=!1):(this.containerElement.classList.remove("color-bg-subtle"),this.hintText.hidden=!0)}renderLinkContainer(t){return o`
      <a
        data-target="${this.containerDataTarget}"
        href="${this.href}"
        class="${this.containerClasses}"
        data-skip-pjax
        style="${this.containerStyle}"
      >
        ${t}
      </a>
    `}renderSpanContainer(t){return o`
      <span data-target="${this.containerDataTarget}" class="${this.containerClasses}" style="${this.containerStyle}">
        ${t}
      </span>
    `}renderElementContent(){return o`
      <div
        data-target="command-palette-item.iconElement"
        class="mr-2 color-fg-muted d-flex flex-items-center"
        style="height: 24px;"
      ></div>

      <div class="flex-1 d-flex flex-column" style="line-height: 24px;">
        <span data-target="command-palette-item.titleElement" class="color-fg-default f5">${this.itemTitle}</span>
        <p data-target="command-palette-item.subtitleElement" class="color-fg-muted f6 mb-0" hidden>${this.subtitle}</p>
      </div>

      <div class="color-fg-muted f5" style="line-height: 20px;">
        <span class="hide-sm" data-target="command-palette-item.hintText" style="line-height: 24px;" hidden
          >${this.item.getHint()}</span
        >
        <span
          class="hide-sm"
          data-target="command-palette-item.persistentHint"
          style="line-height: 24px;"
          hidden
        ></span>
      </div>
    `}renderElement(){const t=this.renderElementContent();n($((()=>this.href?this.renderLinkContainer(t):this.renderSpanContainer(t)),"itemTemplate")(),this),this.rendered=!0}activateLinkBehavior(t,e,s){const i=this.containerElement;s&&i instanceof HTMLAnchorElement?(this.newTabOpened=!0,this.openLinkInNewTab(i)):(this.newTabOpened=!1,this.openLink(i))}openLinkInNewTab(t){const e=t.getAttribute("target");t.setAttribute("target","_blank"),t.click(),e?t.setAttribute("target",e):t.removeAttribute("target")}openLink(t){t.click()}copyToClipboardAndAnnounce(t,e){p(t);const s=this.hintText,i=s.textContent;s.classList.add("color-fg-success"),s.textContent=null!=e?e:"Copied!",setTimeout((()=>{s.classList.remove("color-fg-success"),s.textContent=i}),2e3)}getHint(){return this.hint?o`<span class="hide-sm">${this.hint}</span>`:this.item.scope?o`<div class="hide-sm">
        <kbd class="hx_kbd">Enter</kbd>
        to jump to
        <kbd class="hx_kbd ml-1">Tab</kbd>
        to search
      </div>`:o`<span class="hide-sm">Jump to</span>`}};$(P,"CommandPaletteItemElement"),L([e],P.prototype,"itemId",2),L([e],P.prototype,"itemTitle",2),L([e],P.prototype,"subtitle",2),L([e],P.prototype,"selected",2),L([e],P.prototype,"score",2),L([s],P.prototype,"titleElement",2),L([s],P.prototype,"iconElement",2),L([s],P.prototype,"subtitleElement",2),L([s],P.prototype,"hintText",2),L([s],P.prototype,"persistentHint",2),L([s],P.prototype,"containerElement",2),P=L([r],P);var A=function(){for(var t=new Uint32Array(256),e=256;e--;){for(var s=e,i=8;i--;)s=1&s?3988292384^s>>>1:s>>>1;t[e]=s}return function(e){var s=-1;"string"==typeof e&&(e=function(t){for(var e=t.length,s=new Array(e),i=-1;++i<e;)s[i]=t.charCodeAt(i);return s}(e));for(var i=0,r=e.length;i<r;i++)s=s>>>8^t[255&s^e[i]];return(-1^s)>>>0}}(),O=t("c",(function(t,e){var s=A(t);return e?function(t){return t<0&&(t=4294967295+t+1),("0000000"+t.toString(16)).slice(-8)}(s):s}));function M(t,e){const s=document.querySelector("command-palette"),i={command_palette_session_id:s.sessionId,command_palette_scope:s.query.scope.type,command_palette_mode:s.getMode(),command_palette_title:"commands"===(null==e?void 0:e.group)?e.title:"",command_palette_position:null==e?void 0:e.position,command_palette_score:null==e?void 0:e.score,command_palette_group:null==e?void 0:e.group,command_palette_item_type:null==e?void 0:e.itemType};a(`command_palette_${t}`,i)}(0,Object.defineProperty)(M,"name",{value:"sendTrackingEvent",configurable:!0});var G=Object.defineProperty,N=(t,e)=>G(t,"name",{value:e,configurable:!0});function H(t){F.register(t)}N(H,"item");const q=class{constructor(t){var e;this.position="",this.newTabOpened=!1,this.title=t.title,this.priority=t.priority,this.score=t.score,this.subtitle=t.subtitle,this.typeahead=t.typeahead,this.scope=t.scope,this.hint=t.hint,this.icon=t.icon,this.group=null!=(e=t.group)?e:x.defaultGroupId,this.match_fields=t.match_fields,this._action=t.action}static register(t){this.itemClasses[t.itemType]=t}static get itemType(){return this.buildItemType(this.name)}static buildItemType(t){return t.replace(/([A-Z]($|[a-z]))/g,"_$1").replace(/(^_|_Item$)/g,"").toLowerCase()}static build(t){const e=this.itemClasses[t.action.type];if(e)return new e(t);throw new Error(`No item handler for ${t.action.type}`)}get action(){return this._action}get element(){return this._element||(this._element=new P,this._element.setItemAttributes(this)),this._element}getAvatarTemplate(t,e){return o`<img src="${t}" alt="${e}" class="avatar avatar-1 avatar-small circle" />`}getHint(){return this.element.getHint()}get key(){return`${this.action.type}/${this.title}/${this.group}`}get id(){return this._id||(this._id=O(this.key).toString()),this._id}get path(){return this.action.path||""}get itemType(){return q.buildItemType(this.constructor.name)}select(t){}deselect(t){}activate(t,e){M(this.activateTrackingEventType,this)}get activateTrackingEventType(){return"activate"}activateLinkBehavior(t,e,s){this.element.activateLinkBehavior(t,e,s)}copy(t){M("copy",this)}render(t,e){return this.element.renderElement(),t&&(this.element.selected=!0),e&&(this.element.titleNodes=this.emphasizeTextMatchingQuery(this.title,e)),this.element}emphasizeTextMatchingQuery(t,e){if(!l(e,t))return[document.createTextNode(t)];const s=[];let i=0;for(const r of c(e,t)){if(""!==t.slice(i,r)){const e=document.createTextNode(t.slice(i,r));s.push(e)}i=r+1;const e=document.createElement("strong");e.textContent=t[r],s.push(e)}const r=document.createTextNode(t.slice(i));return s.push(r),s}copyToClipboardAndAnnounce(t,e){this.element.copyToClipboardAndAnnounce(t,e)}calculateScore(t){const e=this.matchFields.map((e=>this.calculateScoreForField({field:e,queryText:t})));return Math.max(...e)}calculateScoreForField({field:t,queryText:e}){return l(e,t)?h(e,t):-1/0}get matchFields(){return this.match_fields?this.match_fields:[this.title]}autocomplete(t){const e=t.commandPaletteInput,s=this.typeahead;e.value=void 0!==s?e.overlay+s:e.overlay+this.title}};let F=t("I",q);N(F,"Item"),F.itemClasses={},F.defaultData={title:"",score:1,priority:1,action:{type:"",path:""},icon:{type:"octicon",id:"dash-color-fg-muted"},group:x.defaultGroupId};var D=Object.defineProperty;class z{fuzzyFilter(t,e,s=0){const i=[];for(const r of t)r.calculateScore(e.text)>s&&i.push(r);return i}}((t,e)=>{D(t,"name",{value:"ProviderBase",configurable:!0})})(z);var B=Object.defineProperty;class R extends z{constructor(t){super(),this.element=t}get type(){return this.element.type}get modes(){return this.element.modes}get debounce(){return this.element.debounce}get scopeTypes(){return this.element.scopeTypes}get src(){return this.element.src}get hasWildCard(){return this.element.hasWildCard}get hasCommands(){return this.element.hasCommands}fetch(t,e){throw new Error("Method not implemented.")}enabledFor(t){throw new Error("Method not implemented.")}clearCache(){throw new Error("Method not implemented.")}}t("S",R),((t,e)=>{B(t,"name",{value:"ServerDefinedProvider",configurable:!0})})(R);var Q=Object.defineProperty;class W extends R{fetch(t,e){return this.fetchSrc(t)}enabledFor(t){return this.modeMatch(t)&&this.scopeMatch(t)}clearCache(){}scopeMatch(t){return 0===this.scopeTypes.length||this.scopeTypes.includes(t.scope.type)}modeMatch(t){return this.modes.includes(t.mode)||this.hasWildCard}async fetchSrc(t,e=""){var s;if(!this.src)throw new Error("No src defined");const i=new URL(this.src,window.location.origin),r=t.params();e&&r.set("mode",e),i.search=r.toString();const n=await fetch(i.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(n.ok){const t=await n.json();return{results:(null==(s=t.results)?void 0:s.map((t=>F.build(t))))||[],octicons:t.octicons}}return{error:!0,results:[]}}}t("R",W),((t,e)=>{Q(t,"name",{value:"RemoteProvider",configurable:!0})})(W);var J=Object.defineProperty;class U extends W{constructor(){super(...arguments),this.maxItems=1e3,this.scopedItems={}}clearCache(){super.clearCache(),this.scopedItems={}}get debounce(){return 0}async prefetch(t){if(this.scopedItems[t.scope.id])return;const e=new _("",t.mode,{subjectId:t.subjectId,subjectType:t.subjectType,returnTo:t.returnTo,scope:t.scope}),s=await this.fetchSrc(e,t.mode);this.octicons=s.octicons||[];const i=s.results||[];this.scopedItems[t.scope.id]=i}async fetch(t,e){const s=this.scopedItems[t.scope.id]||[];return t.isBlank()?{results:s.slice(0,this.maxItems)}:{results:this.fuzzyFilter(s,t).slice(0,this.maxItems)}}}t("P",U),((t,e)=>{J(t,"name",{value:"PrefetchedProvider",configurable:!0})})(U)}}}));
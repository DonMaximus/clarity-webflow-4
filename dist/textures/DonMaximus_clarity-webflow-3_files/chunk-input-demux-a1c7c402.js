System.register(["./chunk-vendor.js"],(function(){"use strict";var t,e,s;return{setters:[function(r){t=r.t,e=r.b,s=r.c}],execute:function(){var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=(t,e,s,o)=>{for(var i,l=o>1?void 0:o?n(e,s):e,c=t.length-1;c>=0;c--)(i=t[c])&&(l=(o?i(e,s,l):i(l))||l);return o&&l&&r(e,s,l),l};let i=class extends HTMLElement{connectedCallback(){this.control&&(this.storedInput=Array(this.control.children.length).fill("")),this.addEventListener("input",this.relayInput.bind(this)),this.addEventListener("keydown",this.relayKeydown.bind(this));const t=this.closest("details");t&&t.addEventListener("toggle",(()=>{t.open&&this.source.focus()}))}relayKeydown(t){if(!this.isControlTab(t.target)&&t.target!==this.source||"ArrowDown"!==t.key&&"Tab"!==t.key){if("Escape"===t.key){const t=this.closest("details");t&&t.removeAttribute("open")}}else t.preventDefault(),t.stopPropagation(),this.routeCustomEvent(new CustomEvent("focus-list"))}isControlTab(t){return!(!t||!this.control)&&Array.from(this.control.children).includes(t)}relayInput(t){if(!t.target)return;const e=t.target.value;this.routeCustomEvent(new CustomEvent("input-entered",{detail:e}))}routeCustomEvent(t){this.sinks[this.selectedIndex].dispatchEvent(t)}get selectedIndex(){if(!this.control)return 0;const t=this.control.querySelector('[aria-selected="true"]');if(!t)throw new Error("no selected element");return Array.from(this.control.children).indexOf(t)}storeInput(){this.storedInput[this.selectedIndex]=this.source.value}updateInput(t){this.source.value=this.storedInput[this.selectedIndex];const e=t.detail.relatedTarget.getAttribute("data-filter-placeholder");this.source.placeholder=e,this.source.setAttribute("aria-label",e),this.notifySelected()}notifySelected(){const t=this.sinks[this.selectedIndex],e=new CustomEvent("tab-selected");t.dispatchEvent(e)}};r(i,"name",{value:"InputDemuxElement",configurable:!0}),o([t],i.prototype,"source",2),o([e],i.prototype,"sinks",2),o([t],i.prototype,"control",2),i=o([s],i)}}}));
/*! For license information please see chunk-vendor-7a000c27.js.LICENSE.txt */
System.register([],(function(t){"use strict";return{execute:function(){function e(){if(!(this instanceof e))return new e;this.size=0,this.uid=0,this.selectors=[],this.indexes=Object.create(this.indexes),this.activeIndexes=[]}t({$:function(t,e){t.renderInto(e)},F:function(t){Ne.push(t)},H:function(t,e){0===Object.keys(Wt.children).length&&document.addEventListener("keydown",zt);const n=function(t){return t.split(",").map((t=>t.split(" ")))}(e||t.getAttribute("data-hotkey")||"").map((e=>Wt.insert(e).add(t)));Ft.set(t,n)},J:function(t){const e=Ft.get(t);if(e&&e.length)for(const n of e)n&&n.delete(t);0===Object.keys(Wt.children).length&&document.removeEventListener("keydown",zt)},K:function(t){return t.split("\n").reduce((function(t,e){var n=function(t){var e=Tr.exec(t);if(!e)return null;var n=e[2]&&0===e[2].indexOf("native"),s=e[2]&&0===e[2].indexOf("eval"),i=Sr.exec(e[2]);return s&&null!=i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{file:n?null:e[2],methodName:e[1]||Lr,arguments:n?[e[2]]:[],lineNumber:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}(e)||function(t){var e=Mr.exec(t);return e?{file:e[2],methodName:e[1]||Lr,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}(e)||function(t){var e=Cr.exec(t);if(!e)return null;var n=e[3]&&e[3].indexOf(" > eval")>-1,s=Nr.exec(e[3]);return n&&null!=s&&(e[3]=s[1],e[4]=s[2],e[5]=null),{file:e[3],methodName:e[1]||Lr,arguments:e[2]?e[2].split(","):[],lineNumber:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}(e)||function(t){var e=Dr.exec(t);return e?{file:e[2],methodName:e[1]||Lr,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}(e)||function(t){var e=Ir.exec(t);return e?{file:e[3],methodName:e[1]||Lr,arguments:[],lineNumber:+e[4],column:e[5]?+e[5]:null}:null}(e);return n&&t.push(n),t}),[])},L:function(t){Ie.push(t)},N:function(t){qr=t.target,setTimeout((function(){t.defaultPrevented&&(qr=null)}),0)},O:function(t,e){var n;const s=`${null!==(n=null==e?void 0:e.keyPrefix)&&void 0!==n?n:"session-resume:"}${t}`;let i;try{i=sessionStorage.getItem(s)}catch(t){}if(!i)return;const r=[],o=[];for(const[t,e]of JSON.parse(i)){const n=new CustomEvent("session:resume",{bubbles:!0,cancelable:!0,detail:{targetId:t,targetValue:e}});if(document.dispatchEvent(n)){const n=document.getElementById(t);n&&(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement)?n.value===n.defaultValue&&(n.value=e,r.push(n)):o.push([t,e])}}if(0===o.length)try{sessionStorage.removeItem(s)}catch(t){}else sessionStorage.setItem(s,JSON.stringify(o));setTimeout((function(){for(const t of r)t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0}))}),0)},P:function(t,e){var n,s;const i=null!==(n=null==e?void 0:e.selector)&&void 0!==n?n:".js-session-resumable",r=`${null!==(s=null==e?void 0:e.keyPrefix)&&void 0!==s?s:"session-resume:"}${t}`,o=[];for(const t of document.querySelectorAll(i))(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&o.push(t);let a=o.filter((t=>function(t){return!!t.id&&t.value!==t.defaultValue&&t.form!==qr}(t))).map((t=>[t.id,t.value]));if(a.length)try{const t=sessionStorage.getItem(r);if(null!==t){const e=JSON.parse(t).filter((function(t){return!a.some((e=>e[0]===t[0]))}));a=a.concat(e)}sessionStorage.setItem(r,JSON.stringify(a))}catch(t){}},S:e,U:function(t){var e=null,n=!1,s=void 0,i=void 0,r=void 0;function o(e){if(s!==e.clientX||i!==e.clientY){var a=t.style.height;r&&r!==a&&(n=!0,t.style.maxHeight="",t.removeEventListener("mousemove",o)),r=a}s=e.clientX,i=e.clientY}var a=t.ownerDocument,c=a.documentElement;function l(){if(!(n||t.value===e||t.offsetWidth<=0&&t.offsetHeight<=0)){var s=function(){for(var e=0,n=t;n!==a.body&&null!==n;)e+=n.offsetTop||0,n=n.offsetParent;var s=e-a.defaultView.pageYOffset;return{top:s,bottom:c.clientHeight-(s+t.offsetHeight)}}(),i=s.top,o=s.bottom;if(!(i<0||o<0)){var l=Number(getComputedStyle(t).height.replace(/px/,""))+o;t.style.maxHeight=l-100+"px";var u=t.parentElement;if(u instanceof HTMLElement){var d=u.style.height;u.style.height=getComputedStyle(u).height,t.style.height="auto",t.style.height=t.scrollHeight+"px",u.style.height=d,r=t.style.height}e=t.value}}}function u(){n=!1,t.style.height="",t.style.maxHeight=""}t.addEventListener("mousemove",o),t.addEventListener("input",l),t.addEventListener("change",l);var d=t.form;return d&&d.addEventListener("reset",u),t.value&&l(),{unsubscribe:function(){t.removeEventListener("mousemove",o),t.removeEventListener("input",l),t.removeEventListener("change",l),d&&d.removeEventListener("reset",u)}}},Z:Fr,a:function(t,n,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=!!i.capture,o=r?z:U,a=o[t];a||(a=new e,o[t]=a,document.addEventListener(t,nt,r)),a.add(n,s)},a0:function(t,...e){return new bo(t,e,wo)},a7:function(t){return t&&t.default||t},a8:Xo,a9:function(t,e){return t(e={exports:{}},e.exports),e.exports},ab:function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")},ac:function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t},ad:te,ae:re,aj:function(t=0,e={}){return(n,s,i)=>{if(!i||"function"!=typeof i.value)throw new Error("debounce can only decorate functions");const r=i.value;i.value=re(r,t,e),Object.defineProperty(n,s,i)}},b:function(t,e){return Object.defineProperty(t,e,{configurable:!0,get(){return function(t,e){const n=t.tagName.toLowerCase(),s=[];if(t.shadowRoot)for(const i of t.shadowRoot.querySelectorAll(`[data-targets~="${n}.${e}"]`))i.closest(n)||s.push(i);for(const i of t.querySelectorAll(`[data-targets~="${n}.${e}"]`))i.closest(n)===t&&s.push(i);return s}(this,e)}})},c:function(t){const e=t.prototype.connectedCallback;t.prototype.connectedCallback=function(){this.toggleAttribute("data-catalyst",!0),function(t){for(const e of t.querySelectorAll("template[data-shadowroot]"))e.parentElement===t&&t.attachShadow({mode:"closed"===e.getAttribute("data-shadowroot")?"closed":"open"}).append(e.content.cloneNode(!0))}(this),function(t,e){e||(e=ee.get(Object.getPrototypeOf(t))||[]);for(const n of e){const e=t[n],s=ne(n);let i={get(){return this.getAttribute(s)||""},set(t){this.setAttribute(s,t||"")}};"number"==typeof e?i={get(){return Number(this.getAttribute(s)||0)},set(t){this.setAttribute(s,t)}}:"boolean"==typeof e&&(i={get(){return this.hasAttribute(s)},set(t){this.toggleAttribute(s,t)}}),Object.defineProperty(t,n,i),n in t&&!t.hasAttribute(s)&&i.set.call(t,e)}}(this),e&&e.call(this),function(t){Kt.add(t),t.shadowRoot&&(Jt(t.shadowRoot),Xt(t.shadowRoot)),Jt(t),Xt(t.ownerDocument)}(this)},function(t){let e=t.observedAttributes||[];Object.defineProperty(t,"observedAttributes",{get(){const n=ee.get(t.prototype);return n?n.map(ne).concat(e):e},set(t){e=t}})}(t),function(t){const e=t.name.replace(/([A-Z]($|[a-z]))/g,"-$1").replace(/(^-|-Element$)/g,"").toLowerCase();window.customElements.get(e)||(window[t.name]=t,window.customElements.define(e,t))}(t)},d:function(t=0,e={}){return(n,s,i)=>{if(!i||"function"!=typeof i.value)throw new Error("debounce can only decorate functions");const r=i.value;i.value=oe(r,t,e),Object.defineProperty(n,s,i)}},f:function(t,e,n){return t.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n}))},h:Rt,j:function(t,e){ee.has(t)||ee.set(t,[]),ee.get(t).push(e)},k:oe,m:function(t){t.addEventListener("dragover",Er),t.addEventListener("drop",wr),t.addEventListener("paste",yr)},n:function(t){t.addEventListener("dragover",ur),t.addEventListener("drop",lr),t.addEventListener("paste",dr)},o:function(){var t;return(t=V()).observe.apply(t,arguments)},q:function(t){t.addEventListener("paste",vr)},r:function(t,e){Ce||(Ce=new Map,document.addEventListener("submit",De));const n=Ce.get(t)||[];Ce.set(t,[...n,e])},s:function(t){let e=!1,n=null;function s(t,e,n,s=!1){e instanceof HTMLInputElement&&(e.indeterminate=s,e.checked!==n&&(e.checked=n,setTimeout((()=>{const n=new CustomEvent("change",{bubbles:!0,cancelable:!1,detail:{relatedTarget:t}});e.dispatchEvent(n)}))))}function i(i){const r=i.target;r instanceof Element&&(r.hasAttribute("data-check-all")?function(e){if(e instanceof CustomEvent&&e.detail){const{relatedTarget:t}=e.detail;if(t&&t.hasAttribute("data-check-all-item"))return}const i=e.target;if(i instanceof HTMLInputElement){n=null;for(const e of t.querySelectorAll("[data-check-all-item]"))s(i,e,i.checked);i.indeterminate=!1,o()}}(i):r.hasAttribute("data-check-all-item")&&function(i){if(i instanceof CustomEvent&&i.detail){const{relatedTarget:t}=i.detail;if(t&&(t.hasAttribute("data-check-all")||t.hasAttribute("data-check-all-item")))return}const r=i.target;if(!(r instanceof HTMLInputElement))return;const a=Array.from(t.querySelectorAll("[data-check-all-item]"));if(e&&n){const[t,e]=[a.indexOf(n),a.indexOf(r)].sort();for(const n of a.slice(t,+e+1||9e9))s(r,n,r.checked)}e=!1,n=r;const c=t.querySelector("[data-check-all]");if(c){const t=a.length,e=a.filter((t=>t instanceof HTMLInputElement&&t.checked)).length;s(r,c,e===t,t>e&&e>0)}o()}(i))}function r(t){t.target instanceof Element&&(t.target instanceof HTMLLabelElement&&t.target.control||t.target).hasAttribute("data-check-all-item")&&(e=t.shiftKey)}function o(){const e=t.querySelector("[data-check-all-count]");if(e){const n=t.querySelectorAll("[data-check-all-item]:checked").length;e.textContent=n.toString()}}return t.addEventListener("mousedown",r),t.addEventListener("change",i),{unsubscribe:()=>{t.removeEventListener("mousedown",r),t.removeEventListener("change",i)}}},t:function(t,e){return Object.defineProperty(t,e,{configurable:!0,get(){return te(this,e)}})},v:function(t){t.addEventListener("paste",kr)},w:function(t){t.removeEventListener("dragover",Er),t.removeEventListener("drop",wr),t.removeEventListener("paste",yr)},x:function(t){t.removeEventListener("dragover",ur),t.removeEventListener("drop",lr),t.removeEventListener("paste",dr)},y:function(t){t.removeEventListener("paste",vr)},z:function(t){t.removeEventListener("paste",kr)}});var n=window.document.documentElement,s=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector;e.prototype.matchesSelector=function(t,e){return s.call(t,e)},e.prototype.querySelectorAll=function(t,e){return e.querySelectorAll(t)},e.prototype.indexes=[];var i=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"ID",selector:function(t){var e;if(e=t.match(i))return e[0].slice(1)},element:function(t){if(t.id)return[t.id]}});var r=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"CLASS",selector:function(t){var e;if(e=t.match(r))return e[0].slice(1)},element:function(t){var e=t.className;if(e){if("string"==typeof e)return e.split(/\s/);if("object"==typeof e&&"baseVal"in e)return e.baseVal.split(/\s/)}}});var o,a=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"TAG",selector:function(t){var e;if(e=t.match(a))return e[0].toUpperCase()},element:function(t){return[t.nodeName.toUpperCase()]}}),e.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},o="function"==typeof window.Map?window.Map:function(){function t(){this.map={}}return t.prototype.get=function(t){return this.map[t+" "]},t.prototype.set=function(t,e){this.map[t+" "]=e},t}();var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function l(t,e){var n,s,i,r,o,a,l=(t=t.slice(0).concat(t.default)).length,u=e,d=[];do{if(c.exec(""),(i=c.exec(u))&&(u=i[3],i[2]||!u))for(n=0;n<l;n++)if(o=(a=t[n]).selector(i[1])){for(s=d.length,r=!1;s--;)if(d[s].index===a&&d[s].key===o){r=!0;break}r||d.push({index:a,key:o});break}}while(i);return d}function u(t,e){var n,s,i;for(n=0,s=t.length;n<s;n++)if(i=t[n],e.isPrototypeOf(i))return i}function d(t,e){return t.id-e.id}e.prototype.logDefaultIndexUsed=function(){},e.prototype.add=function(t,e){var n,s,i,r,a,c,d,h,f=this.activeIndexes,m=this.selectors;if("string"==typeof t){for(n={id:this.uid++,selector:t,data:e},d=l(this.indexes,t),s=0;s<d.length;s++)r=(h=d[s]).key,(a=u(f,i=h.index))||((a=Object.create(i)).map=new o,f.push(a)),i===this.indexes.default&&this.logDefaultIndexUsed(n),(c=a.map.get(r))||(c=[],a.map.set(r,c)),c.push(n);this.size++,m.push(t)}},e.prototype.remove=function(t,e){if("string"==typeof t){var n,s,i,r,o,a,c,u,d=this.activeIndexes,h={},f=1===arguments.length;for(n=l(this.indexes,t),i=0;i<n.length;i++)for(s=n[i],r=d.length;r--;)if(a=d[r],s.index.isPrototypeOf(a)){if(c=a.map.get(s.key))for(o=c.length;o--;)(u=c[o]).selector===t&&(f||u.data===e)&&(c.splice(o,1),h[u.id]=!0);break}this.size-=Object.keys(h).length}},e.prototype.queryAll=function(t){if(!this.selectors.length)return[];var e,n,s,i,r,o,a,c,l={},u=[],h=this.querySelectorAll(this.selectors.join(", "),t);for(e=0,s=h.length;e<s;e++)for(r=h[e],n=0,i=(o=this.matches(r)).length;n<i;n++)l[(c=o[n]).id]?a=l[c.id]:(a={id:c.id,selector:c.selector,data:c.data,elements:[]},l[c.id]=a,u.push(a)),a.elements.push(r);return u.sort(d)},e.prototype.matches=function(t){if(!t)return[];var e,n,s,i,r,o,a,c,l,u,h,f=this.activeIndexes,m={},p=[];for(e=0,i=f.length;e<i;e++)if(c=(a=f[e]).element(t))for(n=0,r=c.length;n<r;n++)if(l=a.map.get(c[n]))for(s=0,o=l.length;s<o;s++)!m[h=(u=l[s]).id]&&this.matchesSelector(t,u.selector)&&(m[h]=!0,p.push(u));return p.sort(d)};var h=null,f=null,m=[];function p(t,e){var n=[];function s(){var t=n;n=[],e(t)}return function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];n.push(i),1===n.length&&g(t,s)}}function g(t,e){f||(f=new MutationObserver(v)),h||(h=t.createElement("div"),f.observe(h,{attributes:!0})),m.push(e),h.setAttribute("data-twiddle",""+Date.now())}function v(){var t=m;m=[];for(var e=0;e<t.length;e++)try{t[e]()}catch(t){setTimeout((function(){throw t}),0)}}var b=new WeakMap,w=new WeakMap,E=new WeakMap,y=new WeakMap;function x(t,e){for(var n=0;n<e.length;n++){var s=e[n],i=s[0],r=s[1],o=s[2];i===C?(A(o,r),k(o,r)):i===N?L(o,r):i===I&&T(t.observers,r)}}function A(t,e){if(e instanceof t.elementConstructor){var n=b.get(e);if(n||(n=[],b.set(e,n)),-1===n.indexOf(t.id)){var s=void 0;if(t.initialize&&(s=t.initialize.call(void 0,e)),s){var i=w.get(e);i||(i={},w.set(e,i)),i[""+t.id]=s}n.push(t.id)}}}function k(t,e){if(e instanceof t.elementConstructor){var n=y.get(e);if(n||(n=[],y.set(e,n)),-1===n.indexOf(t.id)){t.elements.push(e);var s=w.get(e),i=s?s[""+t.id]:null;if(i&&i.add&&i.add.call(void 0,e),t.subscribe){var r=t.subscribe.call(void 0,e);if(r){var o=E.get(e);o||(o={},E.set(e,o)),o[""+t.id]=r}}t.add&&t.add.call(void 0,e),n.push(t.id)}}}function L(t,e){if(e instanceof t.elementConstructor){var n=y.get(e);if(n){var s=t.elements.indexOf(e);if(-1!==s&&t.elements.splice(s,1),-1!==(s=n.indexOf(t.id))){var i=w.get(e),r=i?i[""+t.id]:null;if(r&&r.remove&&r.remove.call(void 0,e),t.subscribe){var o=E.get(e),a=o?o[""+t.id]:null;a&&a.unsubscribe&&a.unsubscribe()}t.remove&&t.remove.call(void 0,e),n.splice(s,1)}0===n.length&&y.delete(e)}}}function T(t,e){var n=y.get(e);if(n){for(var s=n.slice(0),i=0;i<s.length;i++){var r=t[s[i]];if(r){var o=r.elements.indexOf(e);-1!==o&&r.elements.splice(o,1);var a=w.get(e),c=a?a[""+r.id]:null;c&&c.remove&&c.remove.call(void 0,e);var l=E.get(e),u=l?l[""+r.id]:null;u&&u.unsubscribe&&u.unsubscribe(),r.remove&&r.remove.call(void 0,e)}}y.delete(e)}}var S=null;function M(t){return"matches"in t||"webkitMatchesSelector"in t||"mozMatchesSelector"in t||"oMatchesSelector"in t||"msMatchesSelector"in t}var C=1,N=2,I=3;function D(t,e,n){for(var s=0;s<n.length;s++){var i=n[s];if(M(i))for(var r=t.selectorSet.matches(i),o=0;o<r.length;o++){var a=r[o].data;e.push([C,i,a])}if("querySelectorAll"in i)for(var c=t.selectorSet.queryAll(i),l=0;l<c.length;l++)for(var u=c[l],d=u.data,h=u.elements,f=0;f<h.length;f++)e.push([C,h[f],d])}}function H(t,e,n){for(var s=0;s<n.length;s++){var i=n[s];if("querySelectorAll"in i){e.push([I,i]);for(var r=i.querySelectorAll("*"),o=0;o<r.length;o++)e.push([I,r[o]])}}}function P(t,e,n){if(M(n))for(var s=t.selectorSet.matches(n),i=0;i<s.length;i++){var r=s[i].data;e.push([C,n,r])}if("querySelectorAll"in n){var o=y.get(n);if(o)for(var a=0;a<o.length;a++){var c=t.observers[o[a]];c&&(t.selectorSet.matchesSelector(n,c.selector)||e.push([N,n,c]))}}}var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$=0;function _(t){this.rootNode=9===t.nodeType?t.documentElement:t,this.ownerDocument=9===t.nodeType?t:t.ownerDocument,this.observers=[],this.selectorSet=new e,this.mutationObserver=new MutationObserver(W.bind(this,this)),this._scheduleAddRootNodes=p(this.ownerDocument,R.bind(this,this)),this._handleThrottledChangedTargets=p(this.ownerDocument,j.bind(this,this)),this.rootNode.addEventListener("change",F.bind(this,this),!1),function(t,e){var n=t.readyState;"interactive"===n||"complete"===n?g(t,e):t.addEventListener("DOMContentLoaded",g(t,e))}(this.ownerDocument,q.bind(this,this))}function q(t){t.mutationObserver.observe(t.rootNode,{childList:!0,attributes:!0,subtree:!0}),t._scheduleAddRootNodes()}function R(t){var e=[];D(t,e,[t.rootNode]),x(t,e)}function W(t,e){var n=[];(function(t,e,n){for(var s=0;s<n.length;s++){var i=n[s];"childList"===i.type?(D(t,e,i.addedNodes),H(0,e,i.removedNodes)):"attributes"===i.type&&P(t,e,i.target)}(function(t){if(null===S){var e=t.createElement("div"),n=t.createElement("div"),s=t.createElement("div");e.appendChild(n),n.appendChild(s),e.innerHTML="",S=s.parentNode!==n}return S})(t.ownerDocument)&&function(t,e){for(var n=0;n<t.observers.length;n++){var s=t.observers[n];if(s)for(var i=s.elements,r=0;r<i.length;r++){var o=i[r];o.parentNode||e.push([I,o])}}}(t,e)})(t,n,e),x(t,n)}function F(t,e){t._handleThrottledChangedTargets(e.target)}function j(t,e){var n=[];(function(t,e,n){for(var s=0;s<n.length;s++)for(var i=n[s],r=i.form?i.form.elements:t.rootNode.querySelectorAll("input"),o=0;o<r.length;o++)P(t,e,r[o])})(t,n,e),x(t,n)}_.prototype.disconnect=function(){this.mutationObserver.disconnect()},_.prototype.observe=function(t,e){var n=void 0;"function"==typeof e?n={selector:t,initialize:e}:"object"===(void 0===e?"undefined":O(e))?(n=e).selector=t:n=t;var s=this,i={id:$++,selector:n.selector,initialize:n.initialize,add:n.add,remove:n.remove,subscribe:n.subscribe,elements:[],elementConstructor:n.hasOwnProperty("constructor")?n.constructor:this.ownerDocument.defaultView.Element,abort:function(){s._abortObserving(i)}};return this.selectorSet.add(i.selector,i),this.observers[i.id]=i,this._scheduleAddRootNodes(),i},_.prototype._abortObserving=function(t){for(var e=t.elements,n=0;n<e.length;n++)L(t,e[n]);this.selectorSet.remove(t.selector,t),delete this.observers[t.id]},_.prototype.triggerObservers=function(t){var e=[];(function(t,e,n){if("querySelectorAll"in n){P(t,e,n);for(var s=n.querySelectorAll("*"),i=0;i<s.length;i++)P(t,e,s[i])}})(this,e,t),x(this,e)};var B=void 0;function V(){return B||(B=new _(window.document)),B}var U={},z={},K=new WeakMap,Y=new WeakMap,X=new WeakMap,J=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function G(t,e,n){var s=t[e];return t[e]=function(){return n.apply(t,arguments),s.apply(t,arguments)},t}function Q(){K.set(this,!0)}function Z(){K.set(this,!0),Y.set(this,!0)}function tt(){return X.get(this)||null}function et(t,e){!J||Object.defineProperty(t,"currentTarget",{configurable:!0,enumerable:!0,get:e||J.get})}function nt(t){if(function(t){try{return t.eventPhase,!0}catch(t){return!1}}(t)){var e=(1===t.eventPhase?z:U)[t.type];if(e){var n=function(t,e,n){var s=[],i=e;do{if(1!==i.nodeType)break;var r=t.matches(i);if(r.length){var o={node:i,observers:r};n?s.unshift(o):s.push(o)}}while(i=i.parentElement);return s}(e,t.target,1===t.eventPhase);if(n.length){G(t,"stopPropagation",Q),G(t,"stopImmediatePropagation",Z),et(t,tt);for(var s=0,i=n.length;s<i&&!K.get(t);s++){var r=n[s];X.set(t,r.node);for(var o=0,a=r.observers.length;o<a&&!Y.get(t);o++)r.observers[o].data.call(r.node,t)}X.delete(t),et(t)}}}}const st=new WeakMap,it=t=>(...e)=>{const n=t(...e);return st.set(n,!0),n},rt=t=>"function"==typeof t&&st.has(t),ot=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,at=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},ct={},lt={},ut=`{{lit-${String(Math.random()).slice(2)}}}`,dt=`\x3c!--${ut}--\x3e`,ht=new RegExp(`${ut}|${dt}`),ft="$lit$";class mt{constructor(t,e){this.parts=[],this.element=e;const n=[],s=[],i=document.createTreeWalker(e.content,133,null,!1);let r=0,o=-1,a=0;const{strings:c,values:{length:l}}=t;for(;a<l;){const t=i.nextNode();if(null!==t){if(o++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let s=0;for(let t=0;t<n;t++)pt(e[t].name,ft)&&s++;for(;s-- >0;){const e=c[a],n=vt.exec(e)[2],s=n.toLowerCase()+ft,i=t.getAttribute(s);t.removeAttribute(s);const r=i.split(ht);this.parts.push({type:"attribute",index:o,name:n,strings:r}),a+=r.length-1}}"TEMPLATE"===t.tagName&&(s.push(t),i.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(ut)>=0){const s=t.parentNode,i=e.split(ht),r=i.length-1;for(let e=0;e<r;e++){let n,r=i[e];if(""===r)n=gt();else{const t=vt.exec(r);null!==t&&pt(t[2],ft)&&(r=r.slice(0,t.index)+t[1]+t[2].slice(0,-ft.length)+t[3]),n=document.createTextNode(r)}s.insertBefore(n,t),this.parts.push({type:"node",index:++o})}""===i[r]?(s.insertBefore(gt(),t),n.push(t)):t.data=i[r],a+=r}}else if(8===t.nodeType)if(t.data===ut){const e=t.parentNode;(null===t.previousSibling||o===r)&&(o++,e.insertBefore(gt(),t)),r=o,this.parts.push({type:"node",index:o}),null===t.nextSibling?t.data="":(n.push(t),o--),a++}else{let e=-1;for(;-1!==(e=t.data.indexOf(ut,e+1));)this.parts.push({type:"node",index:-1}),a++}}else i.currentNode=s.pop()}for(const t of n)t.parentNode.removeChild(t)}}const pt=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},gt=()=>document.createComment(""),vt=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class bt{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=ot?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,s=document.createTreeWalker(t,133,null,!1);let i,r=0,o=0,a=s.nextNode();for(;r<n.length;)if(i=n[r],-1!==i.index){for(;o<i.index;)o++,"TEMPLATE"===a.nodeName&&(e.push(a),s.currentNode=a.content),null===(a=s.nextNode())&&(s.currentNode=e.pop(),a=s.nextNode());if("node"===i.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(a.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,i.name,i.strings,this.options));r++}else this.__parts.push(void 0),r++;return ot&&(document.adoptNode(t),customElements.upgrade(t)),t}}const wt=` ${ut} `;class Et{constructor(t,e,n,s){this.strings=t,this.values=e,this.type=n,this.processor=s}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let s=0;s<t;s++){const t=this.strings[s],i=t.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===t.indexOf("--\x3e",i+1);const r=vt.exec(t);e+=null===r?t+(n?wt:dt):t.substr(0,r.index)+r[1]+r[2]+ft+r[3]+ut}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}const yt=t=>null===t||!("object"==typeof t||"function"==typeof t),xt=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class At{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new kt(this)}_getValue(){const t=this.strings,e=t.length-1;let n="";for(let s=0;s<e;s++){n+=t[s];const e=this.parts[s];if(void 0!==e){const t=e.value;if(yt(t)||!xt(t))n+="string"==typeof t?t:String(t);else for(const e of t)n+="string"==typeof e?e:String(e)}}return n+=t[e],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class kt{constructor(t){this.value=void 0,this.committer=t}setValue(t){t!==ct&&(!yt(t)||t!==this.value)&&(this.value=t,rt(t)||(this.committer.dirty=!0))}commit(){for(;rt(this.value);){const t=this.value;this.value=ct,t(this)}this.value!==ct&&this.committer.commit()}}class Lt{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(gt()),this.endNode=t.appendChild(gt())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=gt()),t.__insert(this.endNode=gt())}insertAfterPart(t){t.__insert(this.startNode=gt()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){for(;rt(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=ct,t(this)}const t=this.__pendingValue;t!==ct&&(yt(t)?t!==this.value&&this.__commitText(t):t instanceof Et?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):xt(t)?this.__commitIterable(t):t===lt?(this.value=lt,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof bt&&this.value.template===e)this.value.update(t.values);else{const n=new bt(e,t.processor,this.options),s=n._clone();n.update(t.values),this.__commitNode(s),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,s=0;for(const i of t)n=e[s],void 0===n&&(n=new Lt(this.options),e.push(n),0===s?n.appendIntoPart(this):n.insertAfterPart(e[s-1])),n.setValue(i),n.commit(),s++;s<e.length&&(e.length=s,this.clear(n&&n.endNode))}clear(t=this.startNode){at(this.startNode.parentNode,t.nextSibling,this.endNode)}}class Tt{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;rt(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=ct,t(this)}if(this.__pendingValue===ct)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=ct}}class St extends At{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new Mt(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Mt extends kt{}let Ct=!1;try{const t={get capture(){return Ct=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(lo){}class Nt{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;rt(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=ct,t(this)}if(this.__pendingValue===ct)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),s=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),s&&(this.__options=It(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=ct}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const It=t=>t&&(Ct?{capture:t.capture,passive:t.passive,once:t.once}:t.capture),Dt=new class{handleAttributeExpressions(t,e,n,s){const i=e[0];return"."===i?new St(t,e.slice(1),n).parts:"@"===i?[new Nt(t,e.slice(1),s.eventContext)]:"?"===i?[new Tt(t,e.slice(1),n)]:new At(t,e,n).parts}handleTextExpression(t){return new Lt(t)}};function Ht(t){let e=Pt.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},Pt.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const s=t.strings.join(ut);return n=e.keyString.get(s),void 0===n&&(n=new mt(t,t.getTemplateElement()),e.keyString.set(s,n)),e.stringsArray.set(t.strings,n),n}const Pt=new Map,Ot=new WeakMap;t("g",((t,e,n)=>{let s=Ot.get(e);void 0===s&&(at(e,e.firstChild),Ot.set(e,s=new Lt(Object.assign({templateFactory:Ht},n))),s.appendInto(e)),s.setValue(t),s.commit()})),(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2"),t("i",((t,...e)=>new Et(t,e,"html",Dt)));class $t{constructor(t){this.children=[],this.parent=t}delete(t){const e=this.children.indexOf(t);return-1!==e&&(this.children=this.children.slice(0,e).concat(this.children.slice(e+1)),0===this.children.length&&this.parent.delete(this),!0)}add(t){return this.children.push(t),this}}class _t{constructor(t){this.parent=null,this.children={},this.parent=t||null}get(t){return this.children[t]}insert(t){let e=this;for(let n=0;n<t.length;n+=1){const s=t[n];let i=e.get(s);if(n===t.length-1)return i instanceof _t&&(e.delete(i),i=null),i||(i=new $t(e),e.children[s]=i),i;i instanceof $t&&(i=null),i||(i=new _t(e),e.children[s]=i),e=i}return e}delete(t){for(const e in this.children)if(this.children[e]===t){const t=delete this.children[e];return 0===Object.keys(this.children).length&&this.parent&&this.parent.delete(this),t}return!1}}function qt(t){if(!(t instanceof HTMLElement))return!1;const e=t.nodeName.toLowerCase(),n=(t.getAttribute("type")||"").toLowerCase();return"select"===e||"textarea"===e||"input"===e&&"submit"!==n&&"reset"!==n&&"checkbox"!==n&&"radio"!==n||t.isContentEditable}function Rt(t){const e=t.code.startsWith("Key")&&t.shiftKey&&t.key.toUpperCase()===t.key;return`${t.ctrlKey?"Control+":""}${t.altKey?"Alt+":""}${t.metaKey?"Meta+":""}${t.shiftKey&&!e?"Shift+":""}${t.key}`}const Wt=new _t,Ft=new WeakMap;let jt=Wt,Bt=null,Vt=[];function Ut(){Vt=[],Bt=null,jt=Wt}function zt(t){if(t.defaultPrevented||!(t.target instanceof Node))return;if(qt(t.target)){const e=t.target;if(!e.id||!e.ownerDocument.querySelector(`[data-hotkey-scope="${e.id}"]`))return}null!=Bt&&window.clearTimeout(Bt),Bt=window.setTimeout(Ut,1500);const e=jt.get(Rt(t));if(e){if(Vt.push(Rt(t)),jt=e,e instanceof $t){const n=t.target;let s,i=!1;const r=qt(n);for(let t=e.children.length-1;t>=0;t-=1){s=e.children[t];const o=s.getAttribute("data-hotkey-scope");if(!r&&!o||r&&n.id===o){i=!0;break}}s&&i&&(function(t,e){const n=new CustomEvent("hotkey-fire",{cancelable:!0,detail:{path:e}});!t.dispatchEvent(n)||(qt(t)?t.focus():t.click())}(s,Vt),t.preventDefault()),Ut()}}else Ut()}const Kt=new WeakSet,Yt=new WeakMap;function Xt(t=document){if(Yt.has(t))return Yt.get(t);let e=!1;const n=new MutationObserver((t=>{for(const e of t)if("attributes"===e.type&&e.target instanceof Element)Zt(e.target);else if("childList"===e.type&&e.addedNodes.length)for(const t of e.addedNodes)t instanceof Element&&Jt(t)}));n.observe(t,{childList:!0,subtree:!0,attributeFilter:["data-action"]});const s={get closed(){return e},unsubscribe(){e=!0,Yt.delete(t),n.disconnect()}};return Yt.set(t,s),s}function Jt(t){for(const e of t.querySelectorAll("[data-action]"))Zt(e);t instanceof Element&&t.hasAttribute("data-action")&&Zt(t)}function Gt(t){const e=t.currentTarget;for(const n of Qt(e))if(t.type===n.type){const s=e.closest(n.tag);Kt.has(s)&&"function"==typeof s[n.method]&&s[n.method](t);const i=e.getRootNode();if(i instanceof ShadowRoot&&Kt.has(i.host)&&i.host.matches(n.tag)){const e=i.host;"function"==typeof e[n.method]&&e[n.method](t)}}}function*Qt(t){for(const e of(t.getAttribute("data-action")||"").trim().split(/\s+/)){const t=e.lastIndexOf(":"),n=e.lastIndexOf("#");yield{type:e.slice(0,t),tag:e.slice(t+1,n),method:e.slice(n+1)}}}function Zt(t){for(const e of Qt(t))t.addEventListener(e.type,Gt)}function te(t,e){const n=t.tagName.toLowerCase();if(t.shadowRoot)for(const s of t.shadowRoot.querySelectorAll(`[data-target~="${n}.${e}"]`))if(!s.closest(n))return s;for(const s of t.querySelectorAll(`[data-target~="${n}.${e}"]`))if(s.closest(n)===t)return s}const ee=new WeakMap;function ne(t){return`data-${t.replace(/([A-Z]($|[a-z]))/g,"-$1")}`.replace(/--/g,"-").toLowerCase()}const se=new WeakMap,ie=2147483647;function re(t,e=0,{start:n=!0,middle:s=!0,once:i=!1}={}){let r,o=0,a=!1;function c(...l){if(a)return;const u=Date.now()-o;o=Date.now(),n?(n=!1,t.apply(this,l),i&&c.cancel()):(s&&u<e||!s)&&(clearTimeout(r),r=setTimeout((()=>{o=Date.now(),t.apply(this,l),i&&c.cancel()}),s?e-u:e))}return c.cancel=()=>{clearTimeout(r),a=!0},c}function oe(t,e=0,{start:n=!1,middle:s=!1,once:i=!1}={}){return re(t,e,{start:n,middle:s,once:i})}function*ae(t){let e="",n=0,s=!1;for(let i=0;i<t.length;i+=1)"{"!==t[i]||"{"!==t[i+1]||"\\"===t[i-1]||s?"}"===t[i]&&"}"===t[i+1]&&"\\"!==t[i-1]&&s&&(s=!1,yield{type:"part",start:n,end:i+2,value:e.slice(2).trim()},e="",i+=2,n=i):(s=!0,e&&(yield{type:"string",start:n,end:i,value:e}),e="{{",n=i,i+=2),e+=t[i]||"";e&&(yield{type:"string",start:n,end:t.length,value:e})}t("u",it(((...t)=>e=>{let n=se.get(e);void 0===n&&(n={lastRenderedIndex:ie,values:[]},se.set(e,n));const s=n.values;let i=s.length;n.values=t;for(let r=0;r<t.length&&!(r>n.lastRenderedIndex);r++){const o=t[r];if(yt(o)||"function"!=typeof o.then){e.setValue(o),n.lastRenderedIndex=r;break}r<i&&o===s[r]||(n.lastRenderedIndex=ie,i=0,Promise.resolve(o).then((t=>{const s=n.values.indexOf(o);s>-1&&s<n.lastRenderedIndex&&(n.lastRenderedIndex=s,e.setValue(t),e.commit())})))}})));var ce,le,ue=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},de=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class he{constructor(t,e){this.expression=e,ce.set(this,void 0),le.set(this,""),ue(this,ce,t),de(this,ce).updateParent("")}get attributeName(){return de(this,ce).attr.name}get attributeNamespace(){return de(this,ce).attr.namespaceURI}get value(){return de(this,le)}set value(t){ue(this,le,t||""),de(this,ce).updateParent(t)}get element(){return de(this,ce).element}get booleanValue(){return de(this,ce).booleanValue}set booleanValue(t){de(this,ce).booleanValue=t}}ce=new WeakMap,le=new WeakMap;class fe{constructor(t,e){this.element=t,this.attr=e,this.partList=[]}get booleanValue(){return this.element.hasAttributeNS(this.attr.namespaceURI,this.attr.name)}set booleanValue(t){if(1!==this.partList.length)throw new DOMException("Operation not supported","NotSupportedError");this.partList[0].value=t?"":null}append(t){this.partList.push(t)}updateParent(t){if(1===this.partList.length&&null===t)this.element.removeAttributeNS(this.attr.namespaceURI,this.attr.name);else{const t=this.partList.map((t=>"string"==typeof t?t:t.value)).join("");this.element.setAttributeNS(this.attr.namespaceURI,this.attr.name,t)}}}var me,pe=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},ge=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ve{constructor(t,e){this.expression=e,me.set(this,void 0),pe(this,me,[t]),t.textContent=""}get value(){return ge(this,me).map((t=>t.textContent)).join("")}set value(t){this.replace(t)}get previousSibling(){return ge(this,me)[0].previousSibling}get nextSibling(){return ge(this,me)[ge(this,me).length-1].nextSibling}replace(...t){const e=t.map((t=>"string"==typeof t?new Text(t):t));e.length||e.push(new Text("")),ge(this,me)[0].before(...e);for(const t of ge(this,me))t.remove();pe(this,me,e)}}function be(t){return{createCallback(t,e,n){this.processCallback(t,e,n)},processCallback(e,n,s){var i;if("object"==typeof s&&s)for(const e of n)if(e.expression in s){const n=null!==(i=s[e.expression])&&void 0!==i?i:"";t(e,n)}}}}function we(t,e){t.value=String(e)}function Ee(t,e){return"boolean"==typeof e&&t instanceof he&&"boolean"==typeof t.element[t.attributeName]&&(t.booleanValue=e,!0)}me=new WeakMap;const ye=be(we);t("p",be(((t,e)=>{Ee(t,e)||we(t,e)})));var xe,Ae,ke=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Le=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Te extends DocumentFragment{constructor(t,e,n=ye){var s,i;super(),xe.set(this,void 0),Ae.set(this,void 0),Object.getPrototypeOf(this!==Te.prototype)&&Object.setPrototypeOf(this,Te.prototype),this.appendChild(t.content.cloneNode(!0)),ke(this,Ae,Array.from(function*(t){const e=t.ownerDocument.createTreeWalker(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,null,!1);let n;for(;n=e.nextNode();)if(n instanceof Element&&n.hasAttributes())for(let t=0;t<n.attributes.length;t+=1){const e=n.attributes.item(t);if(e&&e.value.includes("{{")){const t=new fe(n,e);for(const n of ae(e.value))if("string"===n.type)t.append(n.value);else{const e=new he(t,n.value);t.append(e),yield e}}}else if(n instanceof Text&&n.textContent&&n.textContent.includes("{{"))for(const t of ae(n.textContent)){t.end<n.textContent.length&&n.splitText(t.end),"part"===t.type&&(yield new ve(n,t.value));break}}(this))),ke(this,xe,n),null===(i=(s=Le(this,xe)).createCallback)||void 0===i||i.call(s,this,Le(this,Ae),e)}update(t){Le(this,xe).processCallback(this,Le(this,Ae),t)}}t("e",Te),xe=new WeakMap,Ae=new WeakMap;class Se extends Error{constructor(t,e){super(t),this.response=e}}function Me(){let t,e;return[new Promise((function(n,s){t=n,e=s})),t,e]}let Ce;const Ne=[],Ie=[];function De(t){if(!(t.target instanceof HTMLFormElement))return;const e=t.target,n=function(t){const e=[];for(const n of Ce.keys())if(t.matches(n)){const t=Ce.get(n)||[];e.push(...t)}return e}(e);if(0===n.length)return;const s=function(t){const e={method:t.method||"GET",url:t.action,headers:new Headers({"X-Requested-With":"XMLHttpRequest"}),body:null};if("GET"===e.method.toUpperCase()){const n=function(t){const e=new URLSearchParams,n=new FormData(t).entries();for(const[t,s]of[...n])e.append(t,s.toString());return e.toString()}(t);n&&(e.url+=(~e.url.indexOf("?")?"&":"?")+n)}else e.body=new FormData(t);return e}(e),[i,r,o]=Me();t.preventDefault(),async function(t,e,n,s){let i=!1;for(const r of t){const[t,o]=Me(),a=()=>(i=!0,o(),s),c={text:a,json:()=>(n.headers.set("Accept","application/json"),a()),html:()=>(n.headers.set("Accept","text/html"),a())};await Promise.race([t,r(e,c,n)])}return i}(n,e,s,i).then((async t=>{if(t){for(const t of Ie)await t(e);(async function(t){const e=await window.fetch(t.url,{method:t.method,body:null!==t.body?t.body:void 0,headers:t.headers,credentials:"same-origin"}),n={url:e.url,status:e.status,statusText:e.statusText,headers:e.headers,text:"",get json(){const t=this,e=JSON.parse(t.text);return delete t.json,t.json=e,t.json},get html(){const t=this;return delete t.html,t.html=function(t,e){const n=t.createElement("template");return n.innerHTML=e,t.importNode(n.content,!0)}(document,t.text),t.html}},s=await e.text();if(n.text=s,e.ok)return n;throw new Se("request failed",n)})(s).then(r,o).catch((()=>{})).then((()=>{for(const t of Ne)t(e)}))}else e.submit()}),(t=>{e.submit(),setTimeout((()=>{throw t}))}))}const He="data-close-dialog",Pe=`[${He}]`;function Oe(t){let e=Array.from(t.querySelectorAll("[autofocus]")).filter(_e)[0];e||(e=t,t.setAttribute("tabindex","-1")),e.focus()}function $e(t){const e=t.currentTarget;e instanceof Element&&("Escape"===t.key||"Esc"===t.key?(Fe(e,!1),t.stopPropagation()):"Tab"===t.key&&function(t){if(!(t.currentTarget instanceof Element))return;const e=t.currentTarget.querySelector("details-dialog");if(!e)return;t.preventDefault();const n=Array.from(e.querySelectorAll("*")).filter(_e);if(0===n.length)return;const s=t.shiftKey?-1:1,i=e.getRootNode(),r=e.contains(i.activeElement)?i.activeElement:null;let o=-1===s?-1:0;if(r instanceof HTMLElement){const t=n.indexOf(r);-1!==t&&(o=t+s)}o<0?o=n.length-1:o%=n.length,n[o].focus()}(t))}function _e(t){return t.tabIndex>=0&&!t.disabled&&function(t){return!t.hidden&&(!t.type||"hidden"!==t.type)&&(t.offsetWidth>0||t.offsetHeight>0)}(t)}function qe(t){const e=t.querySelector("details-dialog");return!(e instanceof ze)||e.dispatchEvent(new CustomEvent("details-dialog-close",{bubbles:!0,cancelable:!0}))}function Re(t){if(!(t.currentTarget instanceof Element))return;const e=t.currentTarget.closest("details");!e||!e.hasAttribute("open")||qe(e)||(t.preventDefault(),t.stopPropagation())}function We(t){const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.querySelector("details-dialog");if(n instanceof ze)if(e.hasAttribute("open")){const t="getRootNode"in n?n.getRootNode():document;t.activeElement instanceof HTMLElement&&Ue.set(n,{details:e,activeElement:t.activeElement}),Oe(n),e.addEventListener("keydown",$e)}else{for(const t of n.querySelectorAll("form"))t.reset();const t=function(t,e){const n=Ue.get(e);return n&&n.activeElement instanceof HTMLElement?n.activeElement:t.querySelector("summary")}(e,n);t&&t.focus(),e.removeEventListener("keydown",$e)}}function Fe(t,e){e!==t.hasAttribute("open")&&(e?t.setAttribute("open",""):qe(t)&&t.removeAttribute("open"))}function je(t){const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.querySelector("details-dialog");if(!(n instanceof ze))return;const s=n.querySelector("include-fragment:not([src])");if(!s)return;const i=n.src;null!==i&&(s.addEventListener("loadend",(()=>{e.hasAttribute("open")&&Oe(n)})),s.setAttribute("src",i),Ve(e))}function Be(t,e,n){Ve(t),e&&t.addEventListener("toggle",je,{once:!0}),e&&n&&t.addEventListener("mouseover",je,{once:!0})}function Ve(t){t.removeEventListener("toggle",je),t.removeEventListener("mouseover",je)}const Ue=new WeakMap;class ze extends HTMLElement{static get CLOSE_ATTR(){return He}static get CLOSE_SELECTOR(){return Pe}constructor(){super(),Ue.set(this,{details:null,activeElement:null}),this.addEventListener("click",(function({target:t}){if(!(t instanceof Element))return;const e=t.closest("details");e&&t.closest(Pe)&&Fe(e,!1)}))}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src",t||"")}get preload(){return this.hasAttribute("preload")}set preload(t){t?this.setAttribute("preload",""):this.removeAttribute("preload")}connectedCallback(){this.setAttribute("role","dialog"),this.setAttribute("aria-modal","true");const t=Ue.get(this);if(!t)return;const e=this.parentElement;if(!e)return;const n=e.querySelector("summary");n&&(n.hasAttribute("role")||n.setAttribute("role","button"),n.addEventListener("click",Re,{capture:!0})),e.addEventListener("toggle",We),t.details=e,Be(e,this.src,this.preload)}disconnectedCallback(){const t=Ue.get(this);if(!t)return;const{details:e}=t;if(!e)return;e.removeEventListener("toggle",We),Ve(e);const n=e.querySelector("summary");n&&n.removeEventListener("click",Re,{capture:!0}),t.details=null}toggle(t){const e=Ue.get(this);if(!e)return;const{details:n}=e;!n||Fe(n,t)}static get observedAttributes(){return["src","preload"]}attributeChangedCallback(){const t=Ue.get(this);if(!t)return;const{details:e}=t;!e||Be(e,this.src,this.preload)}}t("D",ze),window.customElements.get("details-dialog")||(window.DetailsDialogElement=ze,window.customElements.define("details-dialog",ze));const Ke=new WeakMap;class Ye extends HTMLElement{connectedCallback(){const t=this.input;if(!t)return;const e=function(t,e=0,{start:n=!1,middle:s=!1,once:i=!1}={}){return function(t,e=0,{start:n=!0,middle:s=!0,once:i=!1}={}){var r,o=0,a=!1,c=function c(...l){if(!a){var u=Date.now()-o;o=Date.now(),n?(n=!1,t(...l),i&&c.cancel()):(s&&u<e||!s)&&(clearTimeout(r),r=setTimeout((function(){o=Date.now(),t(...l),i&&c.cancel()}),s?e-u:e))}};return c.cancel=function(){clearTimeout(r),a=!0},c}(t,e,{start:n,middle:s,once:i})}(Je.bind(null,this),300),n={check:e,controller:null};Ke.set(this,n),t.addEventListener("input",Xe),t.addEventListener("input",e),t.autocomplete="off",t.spellcheck=!1}disconnectedCallback(){const t=this.input;if(!t)return;const e=Ke.get(this);!e||(Ke.delete(this),t.removeEventListener("input",Xe),t.removeEventListener("input",e.check),t.setCustomValidity(""))}attributeChangedCallback(t){if("required"===t){const t=this.input;if(!t)return;t.required=this.required}}static get observedAttributes(){return["required"]}get input(){return this.querySelector("input")}get src(){const t=this.getAttribute("src");if(!t)return"";const e=this.ownerDocument.createElement("a");return e.href=t,e.href}set src(t){this.setAttribute("src",t)}get csrf(){const t=this.querySelector("[data-csrf]");return this.getAttribute("csrf")||t instanceof HTMLInputElement&&t.value||""}set csrf(t){this.setAttribute("csrf",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}}function Xe(t){const e=t.currentTarget;if(!(e instanceof HTMLInputElement))return;const n=e.closest("auto-check");if(!(n instanceof Ye))return;const s=n.src,i=n.csrf,r=Ke.get(n);if(!s||!i||!r)return;let o="Verifyingâ€¦";e.dispatchEvent(new CustomEvent("auto-check-start",{bubbles:!0,detail:{setValidity:t=>o=t}})),n.required&&e.setCustomValidity(o)}async function Je(t){const e=t.input;if(!e)return;const n=t.src,s=t.csrf,i=Ke.get(t);if(!n||!s||!i)return void(t.required&&e.setCustomValidity(""));if(!e.value.trim())return void(t.required&&e.setCustomValidity(""));const r=new FormData;r.append("authenticity_token",s),r.append("value",e.value),e.dispatchEvent(new CustomEvent("auto-check-send",{bubbles:!0,detail:{body:r}})),i.controller?i.controller.abort():t.dispatchEvent(new CustomEvent("loadstart")),i.controller="AbortController"in window?new AbortController:{signal:null,abort(){}};try{const s=await async function(t,e,n){try{const s=await fetch(e,n);return t.dispatchEvent(new CustomEvent("load")),t.dispatchEvent(new CustomEvent("loadend")),s}catch(e){throw"AbortError"!==e.name&&(t.dispatchEvent(new CustomEvent("error")),t.dispatchEvent(new CustomEvent("loadend"))),e}}(t,n,{credentials:"same-origin",signal:i.controller.signal,method:"POST",body:r});s.ok?function(t,e,n){n&&e.setCustomValidity(""),e.dispatchEvent(new CustomEvent("auto-check-success",{bubbles:!0,detail:{response:t.clone()}}))}(s,e,t.required):function(t,e,n){let s="Validation failed";e.dispatchEvent(new CustomEvent("auto-check-error",{bubbles:!0,detail:{response:t.clone(),setValidity:t=>s=t}})),n&&e.setCustomValidity(s)}(s,e,t.required),i.controller=null,e.dispatchEvent(new CustomEvent("auto-check-complete",{bubbles:!0}))}catch(t){"AbortError"!==t.name&&(i.controller=null,e.dispatchEvent(new CustomEvent("auto-check-complete",{bubbles:!0})))}}window.customElements.get("auto-check")||(window.AutoCheckElement=Ye,window.customElements.define("auto-check",Ye));class Ge extends HTMLElement{get preload(){return this.hasAttribute("preload")}set preload(t){t?this.setAttribute("preload",""):this.removeAttribute("preload")}get src(){return this.getAttribute("src")||""}set src(t){this.setAttribute("src",t)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","menu");const t=this.parentElement;if(!t)return;const e=t.querySelector("summary");e&&(e.setAttribute("aria-haspopup","menu"),e.hasAttribute("role")||e.setAttribute("role","button"));const n=[tn(t,"compositionstart",(t=>dn(this,t))),tn(t,"compositionend",(t=>dn(this,t))),tn(t,"click",(e=>an(t,e))),tn(t,"change",(e=>an(t,e))),tn(t,"keydown",(e=>function(t,e,n){if(!(n instanceof KeyboardEvent)||t.querySelector("details[open]"))return;const s=Qe.get(e);if(!s||s.isComposing)return;const i=n.target instanceof Element&&"SUMMARY"===n.target.tagName;switch(n.key){case"Escape":t.hasAttribute("open")&&(un(t),n.preventDefault(),n.stopPropagation());break;case"ArrowDown":{i&&!t.hasAttribute("open")&&t.setAttribute("open","");const e=rn(t,!0);e&&e.focus(),n.preventDefault()}break;case"ArrowUp":{i&&!t.hasAttribute("open")&&t.setAttribute("open","");const e=rn(t,!1);e&&e.focus(),n.preventDefault()}break;case"n":if(on&&n.ctrlKey){const e=rn(t,!0);e&&e.focus(),n.preventDefault()}break;case"p":if(on&&n.ctrlKey){const e=rn(t,!1);e&&e.focus(),n.preventDefault()}break;case" ":case"Enter":{const e=document.activeElement;e instanceof HTMLElement&&ln(e)&&e.closest("details")===t&&(n.preventDefault(),n.stopPropagation(),e.click())}}}(t,this,e))),tn(t,"toggle",(()=>en(t,this)),{once:!0}),tn(t,"toggle",(()=>function(t){if(t.hasAttribute("open"))for(const e of document.querySelectorAll("details[open] > details-menu")){const n=e.closest("details");n&&n!==t&&!n.contains(t)&&n.removeAttribute("open")}}(t))),this.preload?tn(t,"mouseover",(()=>en(t,this)),{once:!0}):Ze,...nn(t)];Qe.set(this,{subscriptions:n,loaded:!1,isComposing:!1})}disconnectedCallback(){const t=Qe.get(this);if(t){Qe.delete(this);for(const e of t.subscriptions)e.unsubscribe()}}}const Qe=new WeakMap,Ze={unsubscribe(){}};function tn(t,e,n,s=!1){return t.addEventListener(e,n,s),{unsubscribe:()=>{t.removeEventListener(e,n,s)}}}function en(t,e){const n=e.getAttribute("src");if(!n)return;const s=Qe.get(e);if(!s||s.loaded)return;s.loaded=!0;const i=e.querySelector("include-fragment");i&&!i.hasAttribute("src")&&(i.addEventListener("loadend",(()=>sn(t))),i.setAttribute("src",n))}function nn(t){let e=!1;return[tn(t,"mousedown",(()=>e=!0)),tn(t,"keydown",(()=>e=!1)),tn(t,"toggle",(()=>{!t.hasAttribute("open")||sn(t)||e||function(t){const e=document.activeElement;if(e&&ln(e)&&t.contains(e))return;const n=rn(t,!0);n&&n.focus()}(t)}))]}function sn(t){if(!t.hasAttribute("open"))return!1;const e=t.querySelector("details-menu [autofocus]");return!!e&&(e.focus(),!0)}function rn(t,e){const n=Array.from(t.querySelectorAll('[role^="menuitem"]:not([hidden]):not([disabled]):not([aria-disabled="true"])')),s=document.activeElement,i=s instanceof HTMLElement?n.indexOf(s):-1,r=e?n[i+1]:n[i-1],o=e?n[0]:n[n.length-1];return r||o}const on=navigator.userAgent.match(/Macintosh/);function an(t,e){const n=e.target;if(n instanceof Element&&n.closest("details")===t)if("click"===e.type){const e=n.closest('[role="menuitem"], [role="menuitemradio"]');if(!e)return;const s=e.querySelector("input");if("LABEL"===e.tagName&&n===s)return;"LABEL"===e.tagName&&s&&!s.checked||cn(e,t)}else if("change"===e.type){const e=n.closest('[role="menuitemradio"], [role="menuitemcheckbox"]');e&&cn(e,t)}}function cn(t,e){if(t.hasAttribute("disabled")||"true"===t.getAttribute("aria-disabled"))return;const n=t.closest("details-menu");!n||!n.dispatchEvent(new CustomEvent("details-menu-select",{cancelable:!0,detail:{relatedTarget:t}}))||(function(t,e){const n=e.querySelector("[data-menu-button]");if(!n)return;const s=function(t){if(!t)return null;const e=t.hasAttribute("data-menu-button-text")?t:t.querySelector("[data-menu-button-text]");return e?e.getAttribute("data-menu-button-text")||e.textContent:null}(t);if(s)n.textContent=s;else{const e=function(t){if(!t)return null;const e=t.hasAttribute("data-menu-button-contents")?t:t.querySelector("[data-menu-button-contents]");return e?e.innerHTML:null}(t);e&&(n.innerHTML=e)}}(t,e),function(t,e){for(const n of e.querySelectorAll('[role="menuitemradio"], [role="menuitemcheckbox"]')){const e=n.querySelector('input[type="radio"], input[type="checkbox"]');let s=(n===t).toString();e instanceof HTMLInputElement&&(s=e.indeterminate?"mixed":e.checked.toString()),n.setAttribute("aria-checked",s)}}(t,e),"menuitemcheckbox"!==t.getAttribute("role")&&un(e),n.dispatchEvent(new CustomEvent("details-menu-selected",{detail:{relatedTarget:t}})))}function ln(t){const e=t.getAttribute("role");return"menuitem"===e||"menuitemcheckbox"===e||"menuitemradio"===e}function un(t){if(!t.hasAttribute("open"))return;t.removeAttribute("open");const e=t.querySelector("summary");e&&e.focus()}function dn(t,e){const n=Qe.get(t);!n||(n.isComposing="compositionstart"===e.type)}window.customElements.get("details-menu")||(window.DetailsMenuElement=Ge,window.customElements.define("details-menu",Ge));class hn{constructor(t,e){this.file=t,this.directory=e,this.state="pending",this.id=null,this.href=null,this.name=null,this.percent=0}static traverse(t,e){return function(t,e){return e&&function(t){return t.items&&Array.from(t.items).some((t=>{const e=t.webkitGetAsEntry&&t.webkitGetAsEntry();return e&&e.isDirectory}))}(t)?gn("",function(t){return Array.from(t.items).map((t=>t.webkitGetAsEntry())).filter((t=>null!=t))}(t)):Promise.resolve(fn(Array.from(t.files||[])).map((t=>new hn(t))))}(t,e)}static from(t){const e=[];for(const n of t)if(n instanceof File)e.push(new hn(n));else{if(!(n instanceof hn))throw new Error("Unexpected type");e.push(n)}return e}get fullPath(){return this.directory?`${this.directory}/${this.file.name}`:this.file.name}isImage(){return["image/gif","image/png","image/jpg","image/jpeg","image/svg+xml"].indexOf(this.file.type)>-1}isVideo(){return["video/mp4","video/quicktime"].indexOf(this.file.type)>-1}saving(t){if("pending"!==this.state&&"saving"!==this.state)throw new Error(`Unexpected transition from ${this.state} to saving`);this.state="saving",this.percent=t}saved(t){var e,n,s;if("pending"!==this.state&&"saving"!==this.state)throw new Error(`Unexpected transition from ${this.state} to saved`);this.state="saved",this.id=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null,this.href=null!==(n=null==t?void 0:t.href)&&void 0!==n?n:null,this.name=null!==(s=null==t?void 0:t.name)&&void 0!==s?s:null}isPending(){return"pending"===this.state}isSaving(){return"saving"===this.state}isSaved(){return"saved"===this.state}}function fn(t){return Array.from(t).filter((t=>!function(t){return t.name.startsWith(".")}(t)))}function mn(t){return new Promise((function(e,n){t.file(e,n)}))}function pn(t){return new Promise((function(e,n){const s=[],i=t.createReader(),r=()=>{i.readEntries((t=>{t.length>0?(s.push(...t),r()):e(s)}),n)};r()}))}async function gn(t,e){const n=[];for(const s of fn(e))if(s.isDirectory)n.push(...await gn(s.fullPath,await pn(s)));else{const e=await mn(s);n.push(new hn(e,t))}return n}t("af",hn);class vn extends HTMLElement{connectedCallback(){this.addEventListener("dragenter",En),this.addEventListener("dragover",En),this.addEventListener("dragleave",yn),this.addEventListener("drop",xn),this.addEventListener("paste",kn),this.addEventListener("change",Ln)}disconnectedCallback(){this.removeEventListener("dragenter",En),this.removeEventListener("dragover",En),this.removeEventListener("dragleave",yn),this.removeEventListener("drop",xn),this.removeEventListener("paste",kn),this.removeEventListener("change",Ln)}get directory(){return this.hasAttribute("directory")}set directory(t){t?this.setAttribute("directory",""):this.removeAttribute("directory")}async attach(t){const e=t instanceof DataTransfer?await hn.traverse(t,this.directory):hn.from(t);this.dispatchEvent(new CustomEvent("file-attachment-accept",{bubbles:!0,cancelable:!0,detail:{attachments:e}}))&&e.length&&this.dispatchEvent(new CustomEvent("file-attachment-accepted",{bubbles:!0,detail:{attachments:e}}))}}function bn(t){return Array.from(t.types).indexOf("Files")>=0}let wn=null;function En(t){const e=t.currentTarget;wn&&clearTimeout(wn),wn=window.setTimeout((()=>e.removeAttribute("hover")),200);const n=t.dataTransfer;!n||!bn(n)||(n.dropEffect="copy",e.setAttribute("hover",""),t.preventDefault())}function yn(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none"),t.currentTarget.removeAttribute("hover"),t.stopPropagation(),t.preventDefault()}function xn(t){const e=t.currentTarget;if(!(e instanceof vn))return;e.removeAttribute("hover");const n=t.dataTransfer;!n||!bn(n)||(e.attach(n),t.stopPropagation(),t.preventDefault())}const An=/^image\/(gif|png|jpeg)$/;function kn(t){if(!t.clipboardData||!t.clipboardData.items)return;const e=t.currentTarget;if(!(e instanceof vn))return;const n=function(t){for(const e of t)if("file"===e.kind&&An.test(e.type))return e.getAsFile();return null}(t.clipboardData.items);if(!n)return;const s=[n];e.attach(s),t.preventDefault()}function Ln(t){const e=t.currentTarget;if(!(e instanceof vn))return;const n=t.target;if(!(n instanceof HTMLInputElement))return;const s=e.getAttribute("input");if(s&&n.id!==s)return;const i=n.files;!i||0===i.length||(e.attach(i),n.value="")}window.customElements.get("file-attachment")||(window.FileAttachmentElement=vn,window.customElements.define("file-attachment",vn));class Tn extends HTMLElement{constructor(){super(),this.currentQuery=null,this.filter=null,this.debounceInputChange=function(t){let e;return function(){clearTimeout(e),e=setTimeout((()=>{clearTimeout(e),t()}),300)}}((()=>Sn(this,!0))),this.boundFilterResults=()=>{Sn(this,!1)}}static get observedAttributes(){return["aria-owns"]}attributeChangedCallback(t,e){e&&"aria-owns"===t&&Sn(this,!1)}connectedCallback(){const t=this.input;!t||(t.setAttribute("autocomplete","off"),t.setAttribute("spellcheck","false"),t.addEventListener("focus",this.boundFilterResults),t.addEventListener("change",this.boundFilterResults),t.addEventListener("input",this.debounceInputChange))}disconnectedCallback(){const t=this.input;!t||(t.removeEventListener("focus",this.boundFilterResults),t.removeEventListener("change",this.boundFilterResults),t.removeEventListener("input",this.debounceInputChange))}get input(){const t=this.querySelector("input");return t instanceof HTMLInputElement?t:null}reset(){const t=this.input;t&&(t.value="",t.dispatchEvent(new Event("change",{bubbles:!0})))}}async function Sn(t,e=!1){const n=t.input;if(!n)return;const s=n.value.trim(),i=t.getAttribute("aria-owns");if(!i)return;const r=document.getElementById(i);if(!r)return;const o=r.hasAttribute("data-filter-list")?r:r.querySelector("[data-filter-list]");if(!o||(t.dispatchEvent(new CustomEvent("filter-input-start",{bubbles:!0})),e&&t.currentQuery===s))return;t.currentQuery=s;const a=t.filter||Mn,c=o.childElementCount;let l=0,u=!1;for(const t of Array.from(o.children)){if(!(t instanceof HTMLElement))continue;const e=a(t,Cn(t),s);!0===e.hideNew&&(u=e.hideNew),t.hidden=!e.match,e.match&&l++}const d=r.querySelector("[data-filter-new-item]"),h=!!d&&s.length>0&&!u;d instanceof HTMLElement&&(d.hidden=!h,h&&function(t,e){const n=t.querySelector("[data-filter-new-item-text]");n&&(n.textContent=e);const s=t.querySelector("[data-filter-new-item-value]");(s instanceof HTMLInputElement||s instanceof HTMLButtonElement)&&(s.value=e)}(d,s)),function(t,e){const n=t.querySelector("[data-filter-empty-state]");n instanceof HTMLElement&&(n.hidden=e)}(r,l>0||h),t.dispatchEvent(new CustomEvent("filter-input-updated",{bubbles:!0,detail:{count:l,total:c}}))}function Mn(t,e,n){return{match:-1!==e.toLowerCase().indexOf(n.toLowerCase()),hideNew:e===n}}function Cn(t){return((t.querySelector("[data-filter-item-text]")||t).textContent||"").trim()}t("G",Tn),window.customElements.get("filter-input")||(window.FilterInputElement=Tn,window.customElements.define("filter-input",Tn));const Nn=new Set(["ðŸ‘‹","ðŸ¤š","ðŸ–ï¸","âœ‹","ðŸ––","ðŸ‘Œ","ðŸ¤","âœŒï¸","ðŸ¤ž","ðŸ¤Ÿ","ðŸ¤˜","ðŸ¤™","ðŸ‘ˆ","ðŸ‘‰","ðŸ‘†","ðŸ–•","ðŸ‘‡","â˜ï¸","ðŸ‘","ðŸ‘Ž","âœŠ","ðŸ‘Š","ðŸ¤›","ðŸ¤œ","ðŸ‘","ðŸ™Œ","ðŸ‘","ðŸ¤²","ðŸ™","âœï¸","ðŸ’…","ðŸ¤³","ðŸ’ª","ðŸ¦µ","ðŸ¦¶","ðŸ‘‚","ðŸ¦»","ðŸ‘ƒ","ðŸ‘¶","ðŸ§’","ðŸ‘¦","ðŸ‘§","ðŸ§‘","ðŸ‘±","ðŸ‘¨","ðŸ§”","ðŸ‘±â€â™‚ï¸","ðŸ‘¨â€ðŸ¦°","ðŸ‘¨â€ðŸ¦±","ðŸ‘¨â€ðŸ¦³","ðŸ‘¨â€ðŸ¦²","ðŸ‘©","ðŸ‘±â€â™€ï¸","ðŸ‘©â€ðŸ¦°","ðŸ‘©â€ðŸ¦±","ðŸ‘©â€ðŸ¦³","ðŸ‘©â€ðŸ¦²","ðŸ§“","ðŸ‘´","ðŸ‘µ","ðŸ™","ðŸ™â€â™‚ï¸","ðŸ™â€â™€ï¸","ðŸ™Ž","ðŸ™Žâ€â™‚ï¸","ðŸ™Žâ€â™€ï¸","ðŸ™…","ðŸ™…â€â™‚ï¸","ðŸ™…â€â™€ï¸","ðŸ™†","ðŸ™†â€â™‚ï¸","ðŸ™†â€â™€ï¸","ðŸ’","ðŸ’â€â™‚ï¸","ðŸ’â€â™€ï¸","ðŸ™‹","ðŸ™‹â€â™‚ï¸","ðŸ™‹â€â™€ï¸","ðŸ§","ðŸ§â€â™‚ï¸","ðŸ§â€â™€ï¸","ðŸ™‡","ðŸ™‡â€â™‚ï¸","ðŸ™‡â€â™€ï¸","ðŸ¤¦","ðŸ¤¦â€â™‚ï¸","ðŸ¤¦â€â™€ï¸","ðŸ¤·","ðŸ¤·â€â™‚ï¸","ðŸ¤·â€â™€ï¸","ðŸ‘¨â€âš•ï¸","ðŸ‘©â€âš•ï¸","ðŸ‘¨â€ðŸŽ“","ðŸ‘©â€ðŸŽ“","ðŸ‘¨â€ðŸ«","ðŸ‘©â€ðŸ«","ðŸ‘¨â€âš–ï¸","ðŸ‘©â€âš–ï¸","ðŸ‘¨â€ðŸŒ¾","ðŸ‘©â€ðŸŒ¾","ðŸ‘¨â€ðŸ³","ðŸ‘©â€ðŸ³","ðŸ‘¨â€ðŸ”§","ðŸ‘©â€ðŸ”§","ðŸ‘¨â€ðŸ­","ðŸ‘©â€ðŸ­","ðŸ‘¨â€ðŸ’¼","ðŸ‘©â€ðŸ’¼","ðŸ‘¨â€ðŸ”¬","ðŸ‘©â€ðŸ”¬","ðŸ‘¨â€ðŸ’»","ðŸ‘©â€ðŸ’»","ðŸ‘¨â€ðŸŽ¤","ðŸ‘©â€ðŸŽ¤","ðŸ‘¨â€ðŸŽ¨","ðŸ‘©â€ðŸŽ¨","ðŸ‘¨â€âœˆï¸","ðŸ‘©â€âœˆï¸","ðŸ‘¨â€ðŸš€","ðŸ‘©â€ðŸš€","ðŸ‘¨â€ðŸš’","ðŸ‘©â€ðŸš’","ðŸ‘®","ðŸ‘®â€â™‚ï¸","ðŸ‘®â€â™€ï¸","ðŸ•µï¸","ðŸ•µï¸â€â™‚ï¸","ðŸ•µï¸â€â™€ï¸","ðŸ’‚","ðŸ’‚â€â™‚ï¸","ðŸ’‚â€â™€ï¸","ðŸ‘·","ðŸ‘·â€â™‚ï¸","ðŸ‘·â€â™€ï¸","ðŸ¤´","ðŸ‘¸","ðŸ‘³","ðŸ‘³â€â™‚ï¸","ðŸ‘³â€â™€ï¸","ðŸ‘²","ðŸ§•","ðŸ¤µ","ðŸ‘°","ðŸ¤°","ðŸ¤±","ðŸ‘¼","ðŸŽ…","ðŸ¤¶","ðŸ¦¸","ðŸ¦¸â€â™‚ï¸","ðŸ¦¸â€â™€ï¸","ðŸ¦¹","ðŸ¦¹â€â™‚ï¸","ðŸ¦¹â€â™€ï¸","ðŸ§™","ðŸ§™â€â™‚ï¸","ðŸ§™â€â™€ï¸","ðŸ§š","ðŸ§šâ€â™‚ï¸","ðŸ§šâ€â™€ï¸","ðŸ§›","ðŸ§›â€â™‚ï¸","ðŸ§›â€â™€ï¸","ðŸ§œ","ðŸ§œâ€â™‚ï¸","ðŸ§œâ€â™€ï¸","ðŸ§","ðŸ§â€â™‚ï¸","ðŸ§â€â™€ï¸","ðŸ’†","ðŸ’†â€â™‚ï¸","ðŸ’†â€â™€ï¸","ðŸ’‡","ðŸ’‡â€â™‚ï¸","ðŸ’‡â€â™€ï¸","ðŸš¶","ðŸš¶â€â™‚ï¸","ðŸš¶â€â™€ï¸","ðŸ§","ðŸ§â€â™‚ï¸","ðŸ§â€â™€ï¸","ðŸ§Ž","ðŸ§Žâ€â™‚ï¸","ðŸ§Žâ€â™€ï¸","ðŸ‘¨â€ðŸ¦¯","ðŸ‘©â€ðŸ¦¯","ðŸ‘¨â€ðŸ¦¼","ðŸ‘©â€ðŸ¦¼","ðŸ‘¨â€ðŸ¦½","ðŸ‘©â€ðŸ¦½","ðŸƒ","ðŸƒâ€â™‚ï¸","ðŸƒâ€â™€ï¸","ðŸ’ƒ","ðŸ•º","ðŸ•´ï¸","ðŸ§–","ðŸ§–â€â™‚ï¸","ðŸ§–â€â™€ï¸","ðŸ§—","ðŸ§—â€â™‚ï¸","ðŸ§—â€â™€ï¸","ðŸ‡","ðŸ‚","ðŸŒï¸","ðŸŒï¸â€â™‚ï¸","ðŸŒï¸â€â™€ï¸","ðŸ„","ðŸ„â€â™‚ï¸","ðŸ„â€â™€ï¸","ðŸš£","ðŸš£â€â™‚ï¸","ðŸš£â€â™€ï¸","ðŸŠ","ðŸŠâ€â™‚ï¸","ðŸŠâ€â™€ï¸","â›¹ï¸","â›¹ï¸â€â™‚ï¸","â›¹ï¸â€â™€ï¸","ðŸ‹ï¸","ðŸ‹ï¸â€â™‚ï¸","ðŸ‹ï¸â€â™€ï¸","ðŸš´","ðŸš´â€â™‚ï¸","ðŸš´â€â™€ï¸","ðŸšµ","ðŸšµâ€â™‚ï¸","ðŸšµâ€â™€ï¸","ðŸ¤¸","ðŸ¤¸â€â™‚ï¸","ðŸ¤¸â€â™€ï¸","ðŸ¤½","ðŸ¤½â€â™‚ï¸","ðŸ¤½â€â™€ï¸","ðŸ¤¾","ðŸ¤¾â€â™‚ï¸","ðŸ¤¾â€â™€ï¸","ðŸ¤¹","ðŸ¤¹â€â™‚ï¸","ðŸ¤¹â€â™€ï¸","ðŸ§˜","ðŸ§˜â€â™‚ï¸","ðŸ§˜â€â™€ï¸","ðŸ›€","ðŸ›Œ","ðŸ§‘â€ðŸ¤â€ðŸ§‘","ðŸ‘­","ðŸ‘«","ðŸ‘¬"]);function In(t){return Nn.has(t)}const Dn="â€";function Hn(t){return[...t].filter((t=>!On(t.codePointAt(0)))).join("")}function Pn(t,e){const n=[...t].map((t=>t.codePointAt(0)));return n[1]&&(On(n[1])||65039===n[1])?n[1]=e:n.splice(1,0,e),String.fromCodePoint(...n)}function On(t){return t>=127995&&t<=127999}function $n(t){switch(t){case 1:return 127995;case 2:return 127996;case 3:return 127997;case 4:return 127998;case 5:return 127999;default:return null}}class _n extends HTMLElement{get image(){return this.firstElementChild instanceof HTMLImageElement?this.firstElementChild:null}get tone(){return(this.getAttribute("tone")||"").split(" ").map((t=>{const e=parseInt(t,10);return e>=0&&e<=5?e:0})).join(" ")}set tone(t){this.setAttribute("tone",t)}connectedCallback(){if(null===this.image&&!function(){const t=/\bWindows NT 6.1\b/.test(navigator.userAgent),e=/\bWindows NT 6.2\b/.test(navigator.userAgent),n=/\bWindows NT 6.3\b/.test(navigator.userAgent),s=/\bFreeBSD\b/.test(navigator.userAgent),i=/\bLinux\b/.test(navigator.userAgent)&&!/\bAndroid\b/.test(navigator.userAgent);return!(t||e||n||i||s)}()){const t=this.getAttribute("fallback-src");if(t){this.textContent="";const e=function(t){const e=document.createElement("img");return e.className="emoji",e.alt=t.getAttribute("alias")||"",e.height=20,e.width=20,e}(this);e.src=t,this.appendChild(e)}}this.hasAttribute("tone")&&qn(this)}static get observedAttributes(){return["tone"]}attributeChangedCallback(t){"tone"===t&&qn(this)}}function qn(t){if(t.image)return;const e=t.tone.split(" ").map((t=>parseInt(t,10)));if(0===e.length)t.textContent=Hn(t.textContent||"");else if(1===e.length){const n=e[0];t.textContent=0===n?Hn(t.textContent||""):function(t,e){const n=Hn(t);if(!In(n))return t;const s=$n(e);return s?n.split(Dn).map((t=>In(t)?Pn(t,s):t)).join(Dn):t}(t.textContent||"",n)}else t.textContent=function(t,e){const n=Hn(t);if(!In(n))return t;const s=e.map((t=>$n(t)));return n.split(Dn).map((t=>{if(!In(t))return t;const e=s.shift();return e?Pn(t,e):t})).join(Dn)}(t.textContent||"",e)}window.customElements.get("g-emoji")||(window.GEmojiElement=_n,window.customElements.define("g-emoji",_n));const Rn=new WeakMap,Wn=new IntersectionObserver((t=>{for(const e of t)if(e.isIntersecting){const{target:t}=e;if(Wn.unobserve(t),!(t instanceof Vn))return;"lazy"===t.loading&&jn(t)}}),{rootMargin:"0px 0px 256px 0px",threshold:.01});function Fn(){return new Promise((t=>setTimeout(t,0)))}async function jn(t){return Wn.unobserve(t),Bn(t).then((function(e){const n=document.createElement("template");n.innerHTML=e;const s=document.importNode(n.content,!0);!t.dispatchEvent(new CustomEvent("include-fragment-replace",{cancelable:!0,detail:{fragment:s}}))||(t.replaceWith(s),t.dispatchEvent(new CustomEvent("include-fragment-replaced")))}),(function(){t.classList.add("is-error")}))}function Bn(t){const e=t.src;let n=Rn.get(t);return n&&n.src===e?n.data:(n=e?function(t){return Fn().then((()=>(t.dispatchEvent(new Event("loadstart")),t.fetch(t.request())))).then((e=>{if(200!==e.status)throw new Error(`Failed to load resource: the server responded with a status of ${e.status}`);const n=e.headers.get("Content-Type");if(!(function(t){return t&&!!t.split(",").find((t=>t.match(/^\s*\*\/\*/)))}(t.accept)||n&&n.includes(t.accept?t.accept:"text/html")))throw new Error(`Failed to load resource: expected ${t.accept||"text/html"} but was ${n}`);return e.text()})).then((e=>(Fn().then((()=>{t.dispatchEvent(new Event("load")),t.dispatchEvent(new Event("loadend"))})),e)),(e=>{throw Fn().then((()=>{t.dispatchEvent(new Event("error")),t.dispatchEvent(new Event("loadend"))})),e}))}(t):Promise.reject(new Error("missing src")),Rn.set(t,{src:e,data:n}),n)}class Vn extends HTMLElement{static get observedAttributes(){return["src","loading"]}get src(){const t=this.getAttribute("src");if(t){const e=this.ownerDocument.createElement("a");return e.href=t,e.href}return""}set src(t){this.setAttribute("src",t)}get loading(){return"lazy"===this.getAttribute("loading")?"lazy":"eager"}set loading(t){this.setAttribute("loading",t)}get accept(){return this.getAttribute("accept")||""}set accept(t){this.setAttribute("accept",t)}get data(){return Bn(this)}attributeChangedCallback(t,e){"src"===t?this.isConnected&&"eager"===this.loading&&jn(this):"loading"===t&&this.isConnected&&"eager"!==e&&"eager"===this.loading&&jn(this)}connectedCallback(){this.src&&"eager"===this.loading&&jn(this),"lazy"===this.loading&&Wn.observe(this)}request(){const t=this.src;if(!t)throw new Error("missing src");return new Request(t,{method:"GET",credentials:"same-origin",headers:{Accept:this.accept||"text/html"}})}load(){return Bn(this)}fetch(t){return fetch(t)}}t("I",Vn),window.customElements.get("include-fragment")||(window.IncludeFragmentElement=Vn,window.customElements.define("include-fragment",Vn));const Un=new WeakMap,zn=new WeakMap,Kn=new WeakMap;function Yn(t){const e=t.currentTarget;if(!(e instanceof ns))return;const{box:n,image:s}=Kn.get(e)||{};if(!n||!s)return;let i=0,r=0;if(t instanceof KeyboardEvent)"ArrowUp"===t.key?r=-1:"ArrowDown"===t.key?r=1:"ArrowLeft"===t.key?i=-1:"ArrowRight"===t.key&&(i=1);else if(zn.has(e)&&t instanceof MouseEvent){const n=zn.get(e);i=t.pageX-n.dragStartX,r=t.pageY-n.dragStartY}else if(zn.has(e)&&t instanceof TouchEvent){const{pageX:n,pageY:s}=t.changedTouches[0],{dragStartX:o,dragStartY:a}=zn.get(e);i=n-o,r=s-a}if(0!==i||0!==r){const t=Math.min(Math.max(0,n.offsetLeft+i),s.width-n.offsetWidth),o=Math.min(Math.max(0,n.offsetTop+r),s.height-n.offsetHeight);n.style.left=`${t}px`,n.style.top=`${o}px`,es(e,{x:t,y:o,width:n.offsetWidth,height:n.offsetHeight})}if(t instanceof MouseEvent)zn.set(e,{dragStartX:t.pageX,dragStartY:t.pageY});else if(t instanceof TouchEvent){const{pageX:n,pageY:s}=t.changedTouches[0];zn.set(e,{dragStartX:n,dragStartY:s})}}function Xn(t){const e=t.target;if(!(e instanceof HTMLElement))return;const n=Jn(e);if(!(n instanceof ns))return;const{box:s}=Kn.get(n)||{};if(!s)return;const i=n.getBoundingClientRect();let r,o,a;if(t instanceof KeyboardEvent){if("Escape"===t.key)return Zn(n);if("-"===t.key&&(a=-10),"="===t.key&&(a=10),!a)return;r=s.offsetWidth+a,o=s.offsetHeight+a,Un.set(n,{startX:s.offsetLeft,startY:s.offsetTop})}else if(t instanceof MouseEvent){const e=Un.get(n);if(!e)return;r=t.pageX-e.startX-i.left-window.pageXOffset,o=t.pageY-e.startY-i.top-window.pageYOffset}else if(t instanceof TouchEvent){const e=Un.get(n);if(!e)return;r=t.changedTouches[0].pageX-e.startX-i.left-window.pageXOffset,o=t.changedTouches[0].pageY-e.startY-i.top-window.pageYOffset}r&&o&&Qn(n,r,o,!(t instanceof KeyboardEvent))}function Jn(t){const e=t.getRootNode();return e instanceof ShadowRoot?e.host:t}function Gn(t){const e=t.currentTarget;if(!(e instanceof HTMLElement))return;const n=Jn(e);if(!(n instanceof ns))return;const{box:s}=Kn.get(n)||{};if(!s)return;const i=t.target;if(i instanceof HTMLElement)if(i.hasAttribute("data-direction")){const e=i.getAttribute("data-direction")||"";n.addEventListener("mousemove",Xn),n.addEventListener("touchmove",Xn,{passive:!0}),["nw","se"].indexOf(e)>=0&&n.classList.add("nwse"),["ne","sw"].indexOf(e)>=0&&n.classList.add("nesw"),Un.set(n,{startX:s.offsetLeft+(["se","ne"].indexOf(e)>=0?0:s.offsetWidth),startY:s.offsetTop+(["se","sw"].indexOf(e)>=0?0:s.offsetHeight)}),Xn(t)}else n.addEventListener("mousemove",Yn),n.addEventListener("touchmove",Yn,{passive:!0})}function Qn(t,e,n,s=!0){let i=Math.max(Math.abs(e),Math.abs(n),10);const r=Un.get(t);if(!r)return;const{box:o,image:a}=Kn.get(t)||{};if(!o||!a)return;i=Math.min(i,n>0?a.height-r.startY:r.startY,e>0?a.width-r.startX:r.startX);const c=s?Math.round(Math.max(0,e>0?r.startX:r.startX-i)):o.offsetLeft,l=s?Math.round(Math.max(0,n>0?r.startY:r.startY-i)):o.offsetTop;o.style.left=`${c}px`,o.style.top=`${l}px`,o.style.width=`${i}px`,o.style.height=`${i}px`,es(t,{x:c,y:l,width:i,height:i})}function Zn(t){const{image:e}=Kn.get(t)||{};if(!e)return;const n=Math.round(e.clientWidth>e.clientHeight?e.clientHeight:e.clientWidth);Un.set(t,{startX:(e.clientWidth-n)/2,startY:(e.clientHeight-n)/2}),Qn(t,n,n)}function ts(t){const e=t.currentTarget;e instanceof ns&&(zn.delete(e),e.classList.remove("nwse","nesw"),e.removeEventListener("mousemove",Xn),e.removeEventListener("mousemove",Yn),e.removeEventListener("touchmove",Xn),e.removeEventListener("touchmove",Yn))}function es(t,e){const{image:n}=Kn.get(t)||{};if(!n)return;const s=n.naturalWidth/n.width;for(const n in e){const i=Math.round(e[n]*s);e[n]=i;const r=t.querySelector(`[data-image-crop-input='${n}']`);r instanceof HTMLInputElement&&(r.value=i.toString())}t.dispatchEvent(new CustomEvent("image-crop-change",{bubbles:!0,detail:e}))}class ns extends HTMLElement{connectedCallback(){if(Kn.has(this))return;const t=this.attachShadow({mode:"open"});t.innerHTML='\n<style>\n  :host { touch-action: none; display: block; }\n  :host(.nesw) { cursor: nesw-resize; }\n  :host(.nwse) { cursor: nwse-resize; }\n  :host(.nesw) .crop-box, :host(.nwse) .crop-box { cursor: inherit; }\n  :host([loaded]) .crop-image { display: block; }\n  :host([loaded]) ::slotted([data-loading-slot]), .crop-image { display: none; }\n\n  .crop-wrapper {\n    position: relative;\n    font-size: 0;\n  }\n  .crop-container {\n    user-select: none;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    position: absolute;\n    overflow: hidden;\n    z-index: 1;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  :host([rounded]) .crop-box {\n    border-radius: 50%;\n    box-shadow: 0 0 0 4000px rgba(0, 0, 0, 0.3);\n  }\n  .crop-box {\n    position: absolute;\n    border: 1px dashed #fff;\n    box-sizing: border-box;\n    cursor: move;\n  }\n\n  :host([rounded]) .crop-outline {\n    outline: none;\n  }\n  .crop-outline {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    outline: 4000px solid rgba(0, 0, 0, .3);\n  }\n\n  .handle { position: absolute; }\n  :host([rounded]) .handle::before { border-radius: 50%; }\n  .handle:before {\n    position: absolute;\n    display: block;\n    padding: 4px;\n    transform: translate(-50%, -50%);\n    content: \' \';\n    background: #fff;\n    border: 1px solid #767676;\n  }\n  .ne { top: 0; right: 0; cursor: nesw-resize; }\n  .nw { top: 0; left: 0; cursor: nwse-resize; }\n  .se { bottom: 0; right: 0; cursor: nwse-resize; }\n  .sw { bottom: 0; left: 0; cursor: nesw-resize; }\n</style>\n<slot></slot>\n<div class="crop-wrapper">\n  <img width="100%" class="crop-image" alt="">\n  <div class="crop-container">\n    <div data-crop-box class="crop-box">\n      <div class="crop-outline"></div>\n      <div data-direction="nw" class="handle nw"></div>\n      <div data-direction="ne" class="handle ne"></div>\n      <div data-direction="sw" class="handle sw"></div>\n      <div data-direction="se" class="handle se"></div>\n    </div>\n  </div>\n</div>\n';const e=t.querySelector("[data-crop-box]");if(!(e instanceof HTMLElement))return;const n=t.querySelector("img");n instanceof HTMLImageElement&&(Kn.set(this,{box:e,image:n}),n.addEventListener("load",(()=>{this.loaded=!0,Zn(this)})),this.addEventListener("mouseleave",ts),this.addEventListener("touchend",ts),this.addEventListener("mouseup",ts),e.addEventListener("mousedown",Gn),e.addEventListener("touchstart",Gn,{passive:!0}),this.addEventListener("keydown",Yn),this.addEventListener("keydown",Xn),this.src&&(n.src=this.src))}static get observedAttributes(){return["src"]}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get loaded(){return this.hasAttribute("loaded")}set loaded(t){t?this.setAttribute("loaded",""):this.removeAttribute("loaded")}attributeChangedCallback(t,e,n){const{image:s}=Kn.get(this)||{};"src"===t&&(this.loaded=!1,s&&(s.src=n))}}window.customElements.get("image-crop")||(window.ImageCropElement=ns,window.customElements.define("image-crop",ns));const ss=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref","md-strikethrough"];function is(t){const e=[];for(const n of t.querySelectorAll(ss.join(", ")))n.hidden||n.offsetWidth<=0&&n.offsetHeight<=0||n.closest("markdown-toolbar")===t&&e.push(n);return e}const rs=new WeakMap;class os extends HTMLElement{constructor(){super();const t=()=>{const t=rs.get(this);!t||Ns(this,t)};var e;this.addEventListener("keydown",(e=t,function(t){(" "===t.key||"Enter"===t.key)&&(t.preventDefault(),e(t))})),this.addEventListener("click",t)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","button")}click(){const t=rs.get(this);!t||Ns(this,t)}}class as extends os{constructor(){super();const t=parseInt(this.getAttribute("level")||"3",10);if(t<1||t>6)return;const e=`${"#".repeat(t)} `;rs.set(this,{prefix:e})}}window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=as,window.customElements.define("md-header",as));class cs extends os{constructor(){super(),rs.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}}window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=cs,window.customElements.define("md-bold",cs));class ls extends os{constructor(){super(),rs.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}}window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=ls,window.customElements.define("md-italic",ls));class us extends os{constructor(){super(),rs.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}}window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=us,window.customElements.define("md-quote",us));class ds extends os{constructor(){super(),rs.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}}window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=ds,window.customElements.define("md-code",ds));class hs extends os{constructor(){super(),rs.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}}window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=hs,window.customElements.define("md-link",hs));class fs extends os{constructor(){super(),rs.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}}window.customElements.get("md-image")||(window.MarkdownImageButtonElement=fs,window.customElements.define("md-image",fs));class ms extends os{constructor(){super(),rs.set(this,{prefix:"- ",multiline:!0,unorderedList:!0})}}window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=ms,window.customElements.define("md-unordered-list",ms));class ps extends os{constructor(){super(),rs.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}}window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=ps,window.customElements.define("md-ordered-list",ps));class gs extends os{constructor(){super(),rs.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}}window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=gs,window.customElements.define("md-task-list",gs));class vs extends os{constructor(){super(),rs.set(this,{prefix:"@",prefixSpace:!0})}}window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=vs,window.customElements.define("md-mention",vs));class bs extends os{constructor(){super(),rs.set(this,{prefix:"#",prefixSpace:!0})}}window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=bs,window.customElements.define("md-ref",bs));class ws extends os{constructor(){super(),rs.set(this,{prefix:"~~",suffix:"~~",trimFirst:!0})}}window.customElements.get("md-strikethrough")||(window.MarkdownStrikethroughButtonElement=ws,window.customElements.define("md-strikethrough",ws));class Es extends HTMLElement{constructor(){super()}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.addEventListener("keydown",xs),this.setAttribute("tabindex","0"),this.addEventListener("focus",ys,{once:!0})}disconnectedCallback(){this.removeEventListener("keydown",xs)}get field(){const t=this.getAttribute("for");if(!t)return null;const e="getRootNode"in this?this.getRootNode():document;let n;return(e instanceof Document||e instanceof ShadowRoot)&&(n=e.getElementById(t)),n instanceof HTMLTextAreaElement?n:null}}function ys({target:t}){if(!(t instanceof Element))return;t.removeAttribute("tabindex");let e="0";for(const n of is(t))n.setAttribute("tabindex",e),"0"===e&&(n.focus(),e="-1")}function xs(t){const e=t.key;if("ArrowRight"!==e&&"ArrowLeft"!==e&&"Home"!==e&&"End"!==e)return;const n=t.currentTarget;if(!(n instanceof HTMLElement))return;const s=is(n),i=s.indexOf(t.target),r=s.length;if(-1===i)return;let o=0;"ArrowLeft"===e&&(o=i-1),"ArrowRight"===e&&(o=i+1),"End"===e&&(o=r-1),o<0&&(o=r-1),o>r-1&&(o=0);for(let t=0;t<r;t+=1)s[t].setAttribute("tabindex",t===o?"0":"-1");t.preventDefault(),s[o].focus()}function As(t){return t.trim().split("\n").length>1}function ks(t,e){return Array(e+1).join(t)}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=Es,window.customElements.define("markdown-toolbar",Es));let Ls=null;function Ts(t){const e=t.value.slice(0,t.selectionStart),n=t.value.slice(t.selectionEnd),s=e.match(/\n*$/),i=n.match(/^\n*/),r=s?s[0].length:0,o=i?i[0].length:0;let a,c;return e.match(/\S/)&&r<2&&(a=ks("\n",2-r)),n.match(/\S/)&&o<2&&(c=ks("\n",2-o)),null==a&&(a=""),null==c&&(c=""),{newlinesToAppend:a,newlinesToPrepend:c}}function Ss(t){const e=t.split("\n"),n=/^\d+\.\s+/,s=e.every((t=>n.test(t)));let i=e;return s&&(i=e.map((t=>t.replace(n,"")))),{text:i.join("\n"),processed:s}}function Ms(t){const e=t.split("\n"),n=e.every((t=>t.startsWith("- ")));let s=e;return n&&(s=e.map((t=>t.slice("- ".length,t.length)))),{text:s.join("\n"),processed:n}}function Cs(t,e){return e?"- ":`${t+1}. `}function Ns(t,e){const n=t.closest("markdown-toolbar");if(!(n instanceof Es))return;const s=Object.assign(Object.assign({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,unorderedList:!1,trimFirst:!1}),e),i=n.field;i&&(i.focus(),function(t,e){const n=t.value.slice(t.selectionStart,t.selectionEnd);let s;s=e.orderedList||e.unorderedList?function(t,e){const n=t.selectionStart===t.selectionEnd;let s=t.selectionStart,i=t.selectionEnd;!function(t){const e=t.value.split("\n");let n=0;for(let s=0;s<e.length;s++){const i=e[s].length+1;t.selectionStart>=n&&t.selectionStart<n+i&&(t.selectionStart=n),t.selectionEnd>=n&&t.selectionEnd<n+i&&(t.selectionEnd=n+i-1),n+=i}}(t);const r=t.value.slice(t.selectionStart,t.selectionEnd),[o,a,c]=function(t,e){let n,s,i;return t.orderedList?(s=Ss(e),n=Ms(s.text),i=n.text):(s=Ms(e),n=Ss(s.text),i=n.text),[s,n,i]}(e,r),l=c.split("\n").map(((t,n)=>`${Cs(n,e.unorderedList)}${t}`)),u=l.reduce(((t,n,s)=>t+Cs(s,e.unorderedList).length),0),d=l.reduce(((t,n,s)=>t+Cs(s,!e.unorderedList).length),0);if(o.processed)return n?(s=Math.max(s-Cs(0,e.unorderedList).length,0),i=s):(s=t.selectionStart,i=t.selectionEnd-u),{text:c,selectionStart:s,selectionEnd:i};const{newlinesToAppend:h,newlinesToPrepend:f}=Ts(t),m=h+l.join("\n")+f;return n?(s=Math.max(s+Cs(0,e.unorderedList).length+h.length,0),i=s):a.processed?(s=Math.max(t.selectionStart+h.length,0),i=t.selectionEnd+h.length+u-d):(s=Math.max(t.selectionStart+h.length,0),i=t.selectionEnd+h.length+u),{text:m,selectionStart:s,selectionEnd:i}}(t,e):e.multiline&&As(n)?function(t,e){const{prefix:n,suffix:s,surroundWithNewlines:i}=e;let r=t.value.slice(t.selectionStart,t.selectionEnd),o=t.selectionStart,a=t.selectionEnd;const c=r.split("\n");if(c.every((t=>t.startsWith(n)&&t.endsWith(s))))r=c.map((t=>t.slice(n.length,t.length-s.length))).join("\n"),a=o+r.length;else if(r=c.map((t=>n+t+s)).join("\n"),i){const{newlinesToAppend:e,newlinesToPrepend:n}=Ts(t);o+=e.length,a=o+r.length,r=e+r+n}return{text:r,selectionStart:o,selectionEnd:a}}(t,e):function(t,e){let n,s;const{prefix:i,suffix:r,blockPrefix:o,blockSuffix:a,replaceNext:c,prefixSpace:l,scanFor:u,surroundWithNewlines:d}=e,h=t.selectionStart,f=t.selectionEnd;let m=t.value.slice(t.selectionStart,t.selectionEnd),p=As(m)&&o.length>0?`${o}\n`:i,g=As(m)&&a.length>0?`\n${a}`:r;if(l){const e=t.value[t.selectionStart-1];0!==t.selectionStart&&null!=e&&!e.match(/\s/)&&(p=` ${p}`)}m=function(t,e,n,s=!1){if(t.selectionStart===t.selectionEnd)t.selectionStart=function(t,e){let n=e;for(;t[n]&&null!=t[n-1]&&!t[n-1].match(/\s/);)n--;return n}(t.value,t.selectionStart),t.selectionEnd=function(t,e,n){let s=e;const i=n?/\n/:/\s/;for(;t[s]&&!t[s].match(i);)s++;return s}(t.value,t.selectionEnd,s);else{const s=t.selectionStart-e.length,i=t.selectionEnd+n.length,r=t.value.slice(s,t.selectionStart)===e,o=t.value.slice(t.selectionEnd,i)===n;r&&o&&(t.selectionStart=s,t.selectionEnd=i)}return t.value.slice(t.selectionStart,t.selectionEnd)}(t,p,g,e.multiline);let v=t.selectionStart,b=t.selectionEnd;const w=c.length>0&&g.indexOf(c)>-1&&m.length>0;if(d){const e=Ts(t);n=e.newlinesToAppend,s=e.newlinesToPrepend,p=n+i,g+=s}if(m.startsWith(p)&&m.endsWith(g)){const t=m.slice(p.length,m.length-g.length);if(h===f){let e=h-p.length;e=Math.max(e,v),e=Math.min(e,v+t.length),v=b=e}else b=v+t.length;return{text:t,selectionStart:v,selectionEnd:b}}if(w){if(u.length>0&&m.match(u)){g=g.replace(c,m);const t=p+g;return v=b=v+p.length,{text:t,selectionStart:v,selectionEnd:b}}{const t=p+m+g;return v=v+p.length+m.length+g.indexOf(c),b=v+c.length,{text:t,selectionStart:v,selectionEnd:b}}}{let t=p+m+g;v=h+p.length,b=f+p.length;const n=m.match(/^\s*|\s*$/g);if(e.trimFirst&&n){const e=n[0]||"",s=n[1]||"";t=e+p+m.trim()+g+s,v+=e.length,b-=s.length}return{text:t,selectionStart:v,selectionEnd:b}}}(t,e),function(t,{text:e,selectionStart:n,selectionEnd:s}){const i=t.selectionStart,r=t.value.slice(0,i),o=t.value.slice(t.selectionEnd);if(null===Ls||!0===Ls){t.contentEditable="true";try{Ls=document.execCommand("insertText",!1,e)}catch(t){Ls=!1}t.contentEditable="false"}if(Ls&&!t.value.slice(0,t.selectionStart).endsWith(e)&&(Ls=!1),!Ls){try{document.execCommand("ms-beginUndoUnit")}catch(t){}t.value=r+e+o;try{document.execCommand("ms-endUndoUnit")}catch(t){}t.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}null!=n&&null!=s?t.setSelectionRange(n,s):t.setSelectionRange(i,t.selectionEnd)}(t,s)}(i,s))}const Is=new WeakMap;class Ds extends HTMLElement{constructor(){super();const t=Hs.bind(null,this,!0),e={currentQuery:null,oninput:Ps(t),fetch:t,controller:null};Is.set(this,e)}static get observedAttributes(){return["src"]}attributeChangedCallback(t,e){e&&"src"===t&&Hs(this,!1)}connectedCallback(){const t=this.input;if(!t)return;t.setAttribute("autocomplete","off"),t.setAttribute("spellcheck","false");const e=Is.get(this);!e||(t.addEventListener("focus",e.fetch),t.addEventListener("change",e.fetch),t.addEventListener("input",e.oninput))}disconnectedCallback(){const t=this.input;if(!t)return;const e=Is.get(this);!e||(t.removeEventListener("focus",e.fetch),t.removeEventListener("change",e.fetch),t.removeEventListener("input",e.oninput))}get input(){const t=this.querySelector("input, textarea");return t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?t:null}get src(){return this.getAttribute("src")||""}set src(t){this.setAttribute("src",t)}}async function Hs(t,e){const n=t.input;if(!n)return;const s=Is.get(t);if(!s)return;const i=n.value;if(e&&s.currentQuery===i)return;s.currentQuery=i;const r=t.src;if(!r)return;const o=document.getElementById(t.getAttribute("aria-owns")||"");if(!o)return;const a=new URL(r,window.location.href),c=new URLSearchParams(a.search);c.append(t.getAttribute("param")||"q",i),a.search=c.toString(),s.controller?s.controller.abort():(t.dispatchEvent(new CustomEvent("loadstart")),t.setAttribute("loading","")),s.controller="AbortController"in window?new AbortController:{signal:null,abort(){}};let l,u="";try{l=await async function(t,e,n){try{const s=await fetch(e,n);return t.dispatchEvent(new CustomEvent("load")),t.dispatchEvent(new CustomEvent("loadend")),s}catch(e){throw"AbortError"!==e.name&&(t.dispatchEvent(new CustomEvent("error")),t.dispatchEvent(new CustomEvent("loadend"))),e}}(t,a.toString(),{signal:s.controller.signal,credentials:"same-origin",headers:{accept:"text/fragment+html"}}),u=await l.text(),t.removeAttribute("loading"),s.controller=null}catch(e){return void("AbortError"!==e.name&&(t.removeAttribute("loading"),s.controller=null))}l&&l.ok?(o.innerHTML=u,t.dispatchEvent(new CustomEvent("remote-input-success",{bubbles:!0}))):t.dispatchEvent(new CustomEvent("remote-input-error",{bubbles:!0}))}function Ps(t){let e;return function(){clearTimeout(e),e=setTimeout((()=>{clearTimeout(e),t()}),300)}}t("E",Ds),window.customElements.get("remote-input")||(window.RemoteInputElement=Ds,window.customElements.define("remote-input",Ds));const Os=new WeakMap;let $s=null;function _s(t,e){return t.closest("task-lists")===e.closest("task-lists")}function qs(t){if(t.currentTarget!==t.target)return;const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.closest(".contains-task-list");if(!n||(e.classList.add("is-ghost"),t.dataTransfer&&t.dataTransfer.setData("text/plain",(e.textContent||"").trim()),!e.parentElement))return;const s=Array.from(e.parentElement.children),i=s.indexOf(e),r=Os.get(e);r&&r.sortStarted(n),$s={didDrop:!1,dragging:e,dropzone:e,sourceList:n,sourceSibling:s[i+1]||null,sourceIndex:i}}function Rs(t){if(!$s)return;const e=t.currentTarget;if(e instanceof Element){if(!_s($s.dragging,e))return void t.stopPropagation();t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="move"),$s.dropzone!==e&&($s.dragging.classList.add("is-dragging"),$s.dropzone=e,function(t,e){if(t.parentNode===e.parentNode){let n=t;for(;n;){if(n===e)return!0;n=n.previousElementSibling}}return!1}($s.dragging,e)?e.before($s.dragging):e.after($s.dragging))}}function Ws(t){if(!$s)return;t.preventDefault(),t.stopPropagation();const e=t.currentTarget;if(!(e instanceof Element&&($s.didDrop=!0,$s.dragging.parentElement)))return;let n=Array.from($s.dragging.parentElement.children).indexOf($s.dragging);const s=e.closest(".contains-task-list");if(!s||$s.sourceIndex===n&&$s.sourceList===s)return;$s.sourceList===s&&$s.sourceIndex<n&&n++;const i={list:$s.sourceList,index:$s.sourceIndex},r={list:s,index:n},o=Os.get($s.dragging);o&&o.sortFinished({src:i,dst:r})}function Fs(){!$s||($s.dragging.classList.remove("is-dragging"),$s.dragging.classList.remove("is-ghost"),$s.didDrop||$s.sourceList.insertBefore($s.dragging,$s.sourceSibling),$s=null)}function js(t){if(!$s)return;const e=t.currentTarget;if(e instanceof Element){if(!_s($s.dragging,e))return void t.stopPropagation();t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="move")}}const Bs=new WeakMap;class Vs extends HTMLElement{connectedCallback(){this.addEventListener("change",(t=>{const e=t.target;e instanceof HTMLInputElement&&(!e.classList.contains("task-list-item-checkbox")||this.dispatchEvent(new CustomEvent("task-lists-check",{bubbles:!0,detail:{position:Js(e),checked:e.checked}})))}));const t=new MutationObserver(ti.bind(null,this));Bs.set(this,t),t.observe(this,{childList:!0,subtree:!0}),ti(this)}disconnectedCallback(){const t=Bs.get(this);t&&t.disconnect()}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get sortable(){return this.hasAttribute("sortable")}set sortable(t){t?this.setAttribute("sortable",""):this.removeAttribute("sortable")}static get observedAttributes(){return["disabled"]}attributeChangedCallback(t,e,n){e!==n&&"disabled"===t&&ei(this)}}t("T",Vs);const Us=document.createElement("template");Us.innerHTML='\n  <span class="handle">\n    <svg class="drag-handle" aria-hidden="true" width="16" height="16">\n      <path d="M10 13a1 1 0 100-2 1 1 0 000 2zm-4 0a1 1 0 100-2 1 1 0 000 2zm1-5a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2zm1-5a1 1 0 11-2 0 1 1 0 012 0zM6 5a1 1 0 100-2 1 1 0 000 2z"/>\n    </svg>\n  </span>';const zs=new WeakMap;function Ks(t){if(zs.get(t))return;zs.set(t,!0);const e=t.closest("task-lists");if(!(e instanceof Vs)||e.querySelectorAll(".task-list-item").length<=1)return;const n=Us.content.cloneNode(!0),s=n.querySelector(".handle");if(t.prepend(n),!s)throw new Error("handle not found");s.addEventListener("mouseenter",oi),s.addEventListener("mouseleave",ai),function(t,e,n){Os.set(t,{sortStarted:e,sortFinished:n}),t.addEventListener("dragstart",qs),t.addEventListener("dragenter",Rs),t.addEventListener("dragend",Fs),t.addEventListener("drop",Ws),t.addEventListener("dragover",js)}(t,ii,ri),t.addEventListener("mouseenter",Ys),t.addEventListener("mouseleave",Xs)}function Ys(t){const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.closest("task-lists");n instanceof Vs&&n.sortable&&!n.disabled&&e.classList.add("hovered")}function Xs(t){const e=t.currentTarget;e instanceof Element&&e.classList.remove("hovered")}function Js(t){const e=Gs(t);if(!e)throw new Error(".contains-task-list not found");const n=t.closest(".task-list-item"),s=Array.from(e.children).filter((t=>"LI"===t.tagName)),i=n?s.indexOf(n):-1;return[ni(e),i]}function Gs(t){const e=t.parentElement;return e?e.closest(".contains-task-list"):null}function Qs(t){return Gs(t)===Zs(t)}function Zs(t){const e=Gs(t);return e?Zs(e)||e:null}function ti(t){const e=t.querySelectorAll(".contains-task-list > .task-list-item");for(const t of e)Qs(t)&&Ks(t);ei(t)}function ei(t){for(const e of t.querySelectorAll(".task-list-item"))e.classList.toggle("enabled",!t.disabled);for(const e of t.querySelectorAll(".task-list-item-checkbox"))e instanceof HTMLInputElement&&(e.disabled=t.disabled)}function ni(t){const e=t.closest("task-lists");if(!e)throw new Error("parent not found");return Array.from(e.querySelectorAll("ol, ul")).indexOf(t)}const si=new WeakMap;function ii(t){const e=t.closest("task-lists");if(!e)throw new Error("parent not found");si.set(e,Array.from(e.querySelectorAll("ol, ul")))}function ri({src:t,dst:e}){const n=t.list.closest("task-lists");if(!n)return;const s=si.get(n);!s||(si.delete(n),n.dispatchEvent(new CustomEvent("task-lists-move",{bubbles:!0,detail:{src:[s.indexOf(t.list),t.index],dst:[s.indexOf(e.list),e.index]}})))}function oi(t){const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.closest(".task-list-item");if(!n)return;const s=n.closest("task-lists");s instanceof Vs&&s.sortable&&!s.disabled&&n.setAttribute("draggable","true")}function ai(t){if($s)return;const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.closest(".task-list-item");!n||n.setAttribute("draggable","false")}window.customElements.get("task-lists")||(window.TaskListsElement=Vs,window.customElements.define("task-lists",Vs));const ci=!!navigator.userAgent.match(/Macintosh/);class li{constructor(t,e){this.input=t,this.list=e,this.isComposing=!1,e.id||(e.id=`combobox-${Math.random().toString().slice(2,6)}`),this.keyboardEventHandler=t=>function(t,e){if(!(t.shiftKey||t.metaKey||t.altKey)&&(ci||!t.ctrlKey)&&!e.isComposing)switch(t.key){case"Enter":case"Tab":(function(t,e){const n=e.querySelector('[aria-selected="true"]');return!!n&&("true"===n.getAttribute("aria-disabled")||n.click(),!0)})(e.input,e.list)&&t.preventDefault();break;case"Escape":e.clearSelection();break;case"ArrowDown":e.navigate(1),t.preventDefault();break;case"ArrowUp":e.navigate(-1),t.preventDefault();break;case"n":ci&&t.ctrlKey&&(e.navigate(1),t.preventDefault());break;case"p":ci&&t.ctrlKey&&(e.navigate(-1),t.preventDefault());break;default:if(t.ctrlKey)break;e.clearSelection()}}(t,this),this.compositionEventHandler=t=>function(t,e){e.isComposing="compositionstart"===t.type,document.getElementById(e.input.getAttribute("aria-controls")||"")&&e.clearSelection()}(t,this),this.inputHandler=this.clearSelection.bind(this),t.setAttribute("role","combobox"),t.setAttribute("aria-controls",e.id),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-haspopup","listbox")}destroy(){this.clearSelection(),this.stop(),this.input.removeAttribute("role"),this.input.removeAttribute("aria-controls"),this.input.removeAttribute("aria-expanded"),this.input.removeAttribute("aria-autocomplete"),this.input.removeAttribute("aria-haspopup")}start(){this.input.setAttribute("aria-expanded","true"),this.input.addEventListener("compositionstart",this.compositionEventHandler),this.input.addEventListener("compositionend",this.compositionEventHandler),this.input.addEventListener("input",this.inputHandler),this.input.addEventListener("keydown",this.keyboardEventHandler),this.list.addEventListener("click",ui)}stop(){this.clearSelection(),this.input.setAttribute("aria-expanded","false"),this.input.removeEventListener("compositionstart",this.compositionEventHandler),this.input.removeEventListener("compositionend",this.compositionEventHandler),this.input.removeEventListener("input",this.inputHandler),this.input.removeEventListener("keydown",this.keyboardEventHandler),this.list.removeEventListener("click",ui)}navigate(t=1){const e=Array.from(this.list.querySelectorAll('[aria-selected="true"]')).filter(di)[0],n=Array.from(this.list.querySelectorAll('[role="option"]')).filter(di),s=n.indexOf(e);if(s===n.length-1&&1===t||0===s&&-1===t)return this.clearSelection(),void this.input.focus();let i=1===t?0:n.length-1;if(e&&s>=0){const e=s+t;e>=0&&e<n.length&&(i=e)}const r=n[i];if(r)for(const t of n)r===t?(this.input.setAttribute("aria-activedescendant",r.id),r.setAttribute("aria-selected","true"),hi(this.list,r)):t.setAttribute("aria-selected","false")}clearSelection(){this.input.removeAttribute("aria-activedescendant");for(const t of this.list.querySelectorAll('[aria-selected="true"]'))t.setAttribute("aria-selected","false")}}function ui(t){if(!(t.target instanceof Element))return;const e=t.target.closest('[role="option"]');!e||"true"!==e.getAttribute("aria-disabled")&&function(t){t.dispatchEvent(new CustomEvent("combobox-commit",{bubbles:!0}))}(e)}function di(t){return!t.hidden&&!(t instanceof HTMLInputElement&&"hidden"===t.type)&&(t.offsetWidth>0||t.offsetHeight>0)}function hi(t,e){(function(t,e){const n=t.scrollTop,s=n+t.clientHeight,i=e.offsetTop,r=i+e.clientHeight;return i>=n&&r<=s})(t,e)||(t.scrollTop=e.offsetTop)}t("C",li);const fi=/\s|\(|\[/;function mi(t,e,n,{multiWord:s,lookBackIndex:i,lastMatchPosition:r}={multiWord:!1,lookBackIndex:0,lastMatchPosition:null}){let o=t.lastIndexOf(e,n-1);if(-1===o||o<i)return;if(s){if(null!=r){if(r===o)return;o=r-e.length}if(" "===t[o+1]&&n>=o+e.length+1||t.lastIndexOf("\n",n-1)>o||t.lastIndexOf(".",n-1)>o)return}else if(t.lastIndexOf(" ",n-1)>o)return;const a=t[o-1];return a&&!fi.test(a)?void 0:{text:t.substring(o+e.length,n),position:o+e.length}}const pi=["position:absolute;","overflow:auto;","word-wrap:break-word;","top:0px;","left:-9999px;"],gi=["box-sizing","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","min-height","padding-bottom","padding-left","padding-right","padding-top","border-bottom","border-left","border-right","border-top","text-decoration","text-indent","text-transform","width","word-spacing"],vi=new WeakMap;const bi=new WeakMap;class wi{constructor(t,e){this.expander=t,this.input=e,this.combobox=null,this.menu=null,this.match=null,this.justPasted=!1,this.lookBackIndex=0,this.oninput=this.onInput.bind(this),this.onpaste=this.onPaste.bind(this),this.onkeydown=this.onKeydown.bind(this),this.oncommit=this.onCommit.bind(this),this.onmousedown=this.onMousedown.bind(this),this.onblur=this.onBlur.bind(this),this.interactingWithList=!1,e.addEventListener("paste",this.onpaste),e.addEventListener("input",this.oninput),e.addEventListener("keydown",this.onkeydown),e.addEventListener("blur",this.onblur)}destroy(){this.input.removeEventListener("paste",this.onpaste),this.input.removeEventListener("input",this.oninput),this.input.removeEventListener("keydown",this.onkeydown),this.input.removeEventListener("blur",this.onblur)}dismissMenu(){this.deactivate()&&(this.lookBackIndex=this.input.selectionEnd||this.lookBackIndex)}activate(t,e){var n,s;if(this.input!==document.activeElement&&this.input!==(null===(s=null===(n=document.activeElement)||void 0===n?void 0:n.shadowRoot)||void 0===s?void 0:s.activeElement))return;this.deactivate(),this.menu=e,e.id||(e.id=`text-expander-${Math.floor(1e5*Math.random()).toString()}`),this.expander.append(e),this.combobox=new li(this.input,e);const{top:i,left:r}=function(t,e=t.selectionEnd){const{mirror:n,marker:s}=function(t,e){const n=t.nodeName.toLowerCase();if("textarea"!==n&&"input"!==n)throw new Error("expected textField to a textarea or input");let s=vi.get(t);if(s&&s.parentElement===t.parentElement)s.innerHTML="";else{s=document.createElement("div"),vi.set(t,s);const e=window.getComputedStyle(t),i=pi.slice(0);"textarea"===n?i.push("white-space:pre-wrap;"):i.push("white-space:nowrap;");for(let t=0,n=gi.length;t<n;t++){const n=gi[t];i.push(`${n}:${e.getPropertyValue(n)};`)}s.style.cssText=i.join(" ")}const i=document.createElement("span");let r,o;if(i.style.cssText="position: absolute;",i.innerHTML="&nbsp;","number"==typeof e){let n=t.value.substring(0,e);n&&(r=document.createTextNode(n)),n=t.value.substring(e),n&&(o=document.createTextNode(n))}else{const e=t.value;e&&(r=document.createTextNode(e))}if(r&&s.appendChild(r),s.appendChild(i),o&&s.appendChild(o),!s.parentElement){if(!t.parentElement)throw new Error("textField must have a parentElement to mirror");t.parentElement.insertBefore(s,t)}return s.scrollTop=t.scrollTop,s.scrollLeft=t.scrollLeft,{mirror:s,marker:i}}(t,e),i=n.getBoundingClientRect(),r=s.getBoundingClientRect();return setTimeout((()=>{n.remove()}),5e3),{top:r.top-i.top,left:r.left-i.left}}(this.input,t.position);e.style.top=`${i}px`,e.style.left=`${r}px`,this.combobox.start(),e.addEventListener("combobox-commit",this.oncommit),e.addEventListener("mousedown",this.onmousedown),this.combobox.navigate(1)}deactivate(){const t=this.menu;return!(!t||!this.combobox||(this.menu=null,t.removeEventListener("combobox-commit",this.oncommit),t.removeEventListener("mousedown",this.onmousedown),this.combobox.destroy(),this.combobox=null,t.remove(),0))}onCommit({target:t}){const e=t;if(!(e instanceof HTMLElement&&this.combobox))return;const n=this.match;if(!n)return;const s=this.input.value.substring(0,n.position-n.key.length),i=this.input.value.substring(n.position+n.text.length),r={item:e,key:n.key,value:null};if(!this.expander.dispatchEvent(new CustomEvent("text-expander-value",{cancelable:!0,detail:r}))||!r.value)return;const o=`${r.value} `;this.input.value=s+o+i;const a=s.length+o.length;this.deactivate(),this.input.focus({preventScroll:!0}),this.input.selectionStart=a,this.input.selectionEnd=a,this.lookBackIndex=a,this.match=null}onBlur(){this.interactingWithList?this.interactingWithList=!1:this.deactivate()}onPaste(){this.justPasted=!0}async onInput(){if(this.justPasted)return void(this.justPasted=!1);const t=this.findMatch();if(t){this.match=t;const e=await this.notifyProviders(t);if(!this.match)return;e?this.activate(t,e):this.deactivate()}else this.match=null,this.deactivate()}findMatch(){const t=this.input.selectionEnd||0,e=this.input.value;t<=this.lookBackIndex&&(this.lookBackIndex=t-1);for(const{key:n,multiWord:s}of this.expander.keys){const i=mi(e,n,t,{multiWord:s,lookBackIndex:this.lookBackIndex,lastMatchPosition:this.match?this.match.position:null});if(i)return{text:i.text,key:n,position:i.position}}}async notifyProviders(t){const e=[];return this.expander.dispatchEvent(new CustomEvent("text-expander-change",{cancelable:!0,detail:{provide:t=>e.push(t),text:t.text,key:t.key}}))?(await Promise.all(e)).filter((t=>t.matched)).map((t=>t.fragment))[0]:void 0}onMousedown(){this.interactingWithList=!0}onKeydown(t){"Escape"===t.key&&(this.match=null,this.deactivate()&&(this.lookBackIndex=this.input.selectionEnd||this.lookBackIndex,t.stopImmediatePropagation(),t.preventDefault()))}}class Ei extends HTMLElement{get keys(){const t=this.getAttribute("keys"),e=t?t.split(" "):[],n=this.getAttribute("multiword"),s=n?n.split(" "):[],i=0===s.length&&this.hasAttribute("multiword");return e.map((t=>({key:t,multiWord:i||s.includes(t)})))}connectedCallback(){const t=this.querySelector('input[type="text"], textarea');if(!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;const e=new wi(this,t);bi.set(this,e)}disconnectedCallback(){const t=bi.get(this);!t||(t.destroy(),bi.delete(this))}dismiss(){const t=bi.get(this);!t||t.dismissMenu()}}window.customElements.get("text-expander")||(window.TextExpanderElement=Ei,window.customElements.define("text-expander",Ei));const yi=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xi=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ai(t){return`0${t}`.slice(-2)}function ki(t,e){const n=t.getDay(),s=t.getDate(),i=t.getMonth(),r=t.getFullYear(),o=t.getHours(),a=t.getMinutes(),c=t.getSeconds();return e.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g,(function(e){let l;switch(e[1]){case"%":return"%";case"a":return yi[n].slice(0,3);case"A":return yi[n];case"b":return xi[i].slice(0,3);case"B":return xi[i];case"c":return t.toString();case"d":return Ai(s);case"e":return String(s);case"H":return Ai(o);case"I":return Ai(ki(t,"%l"));case"l":return String(0===o||12===o?12:(o+12)%12);case"m":return Ai(i+1);case"M":return Ai(a);case"p":return o>11?"PM":"AM";case"P":return o>11?"pm":"am";case"S":return Ai(c);case"w":return String(n);case"y":return Ai(r%100);case"Y":return String(r);case"Z":return l=t.toString().match(/\((\w+)\)$/),l?l[1]:"";case"z":return l=t.toString().match(/\w([+-]\d\d\d\d) /),l?l[1]:""}return""}))}function Li(t){let e;return function(){if(e)return e;if("Intl"in window)try{return e=new Intl.DateTimeFormat(void 0,t),e}catch(t){if(!(t instanceof RangeError))throw t}}}let Ti=null;const Si=Li({day:"numeric",month:"short"});function Mi(){if(null!==Ti)return Ti;const t=Si();return!!t&&(Ti=!!t.format(new Date(0)).match(/^\d/),Ti)}let Ci=null;const Ni=Li({day:"numeric",month:"short",year:"numeric"});function Ii(t){const e=t.closest("[lang]");return e instanceof HTMLElement&&e.lang?e.lang:"default"}const Di=new WeakMap;class Hi extends HTMLElement{static get observedAttributes(){return["datetime","day","format","lang","hour","minute","month","second","title","weekday","year","time-zone-name"]}connectedCallback(){const t=this.getFormattedTitle();t&&!this.hasAttribute("title")&&this.setAttribute("title",t);const e=this.getFormattedDate();e&&(this.textContent=e)}attributeChangedCallback(t,e,n){const s=this.getFormattedTitle();if("datetime"===t){const t=Date.parse(n);isNaN(t)?Di.delete(this):Di.set(this,new Date(t))}const i=this.getFormattedTitle(),r=this.getAttribute("title");"title"!==t&&i&&(!r||r===s)&&this.setAttribute("title",i);const o=this.getFormattedDate();o&&(this.textContent=o)}get date(){return Di.get(this)}getFormattedTitle(){const t=this.date;if(!t)return;const e=Pi();if(e)return e.format(t);try{return t.toLocaleString()}catch(e){if(e instanceof RangeError)return t.toString();throw e}}getFormattedDate(){}}const Pi=Li({day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),Oi=new WeakMap;class $i extends Hi{attributeChangedCallback(t,e,n){("hour"===t||"minute"===t||"second"===t||"time-zone-name"===t)&&Oi.delete(this),super.attributeChangedCallback(t,e,n)}getFormattedDate(){const t=this.date;if(!t)return;const e=function(t,e){const n={weekday:{short:"%a",long:"%A"},day:{numeric:"%e","2-digit":"%d"},month:{short:"%b",long:"%B"},year:{numeric:"%Y","2-digit":"%y"}};let s=Mi()?"weekday day month year":"weekday month day, year";for(const e in n){const i=n[e][t.getAttribute(e)||""];s=s.replace(e,i||"")}return s=s.replace(/(\s,)|(,\s$)/,""),ki(e,s).replace(/\s+/," ").trim()}(this,t)||"",n=function(t,e){const n={},s=t.getAttribute("hour");("numeric"===s||"2-digit"===s)&&(n.hour=s);const i=t.getAttribute("minute");("numeric"===i||"2-digit"===i)&&(n.minute=i);const r=t.getAttribute("second");("numeric"===r||"2-digit"===r)&&(n.second=r);const o=t.getAttribute("time-zone-name");if(("short"===o||"long"===o)&&(n.timeZoneName=o),0===Object.keys(n).length)return;let a=Oi.get(t);a||(a=Li(n),Oi.set(t,a));const c=a();return c?c.format(e):ki(e,n.second?"%H:%M:%S":"%H:%M")}(this,t)||"";return`${e} ${n}`.trim()}}window.customElements.get("local-time")||(window.LocalTimeElement=$i,window.customElements.define("local-time",$i));class _i{constructor(t,e){this.date=t,this.locale=e}toString(){const t=this.timeElapsed();return t||(this.timeAhead()||`on ${this.formatDate()}`)}timeElapsed(){const t=(new Date).getTime()-this.date.getTime(),e=Math.round(t/1e3),n=Math.round(e/60),s=Math.round(n/60),i=Math.round(s/24);return t>=0&&i<30?this.timeAgoFromMs(t):null}timeAhead(){const t=this.date.getTime()-(new Date).getTime(),e=Math.round(t/1e3),n=Math.round(e/60),s=Math.round(n/60),i=Math.round(s/24);return t>=0&&i<30?this.timeUntil():null}timeAgo(){const t=(new Date).getTime()-this.date.getTime();return this.timeAgoFromMs(t)}timeAgoFromMs(t){const e=Math.round(t/1e3),n=Math.round(e/60),s=Math.round(n/60),i=Math.round(s/24),r=Math.round(i/30),o=Math.round(r/12);return t<0||e<10?qi(this.locale,0,"second"):e<45?qi(this.locale,-e,"second"):e<90||n<45?qi(this.locale,-n,"minute"):n<90||s<24?qi(this.locale,-s,"hour"):s<36||i<30?qi(this.locale,-i,"day"):r<18?qi(this.locale,-r,"month"):qi(this.locale,-o,"year")}microTimeAgo(){const t=(new Date).getTime()-this.date.getTime(),e=Math.round(t/1e3),n=Math.round(e/60),s=Math.round(n/60),i=Math.round(s/24),r=Math.round(i/30),o=Math.round(r/12);return n<1?"1m":n<60?`${n}m`:s<24?`${s}h`:i<365?`${i}d`:`${o}y`}timeUntil(){const t=this.date.getTime()-(new Date).getTime();return this.timeUntilFromMs(t)}timeUntilFromMs(t){const e=Math.round(t/1e3),n=Math.round(e/60),s=Math.round(n/60),i=Math.round(s/24),r=Math.round(i/30),o=Math.round(r/12);return r>=18||r>=12?qi(this.locale,o,"year"):i>=45||i>=30?qi(this.locale,r,"month"):s>=36||s>=24?qi(this.locale,i,"day"):n>=90||n>=45?qi(this.locale,s,"hour"):e>=90||e>=45?qi(this.locale,n,"minute"):qi(this.locale,e>=10?e:0,"second")}microTimeUntil(){const t=this.date.getTime()-(new Date).getTime(),e=Math.round(t/1e3),n=Math.round(e/60),s=Math.round(n/60),i=Math.round(s/24),r=Math.round(i/30),o=Math.round(r/12);return i>=365?`${o}y`:s>=24?`${i}d`:n>=60?`${s}h`:n>1?`${n}m`:"1m"}formatDate(){let t=Mi()?"%e %b":"%b %e";return e=this.date,(new Date).getUTCFullYear()===e.getUTCFullYear()||(t+=function(){if(null!==Ci)return Ci;const t=Ni();return!t||(Ci=!!t.format(new Date(0)).match(/\d,/),Ci)}()?", %Y":" %Y"),ki(this.date,t);var e}formatTime(){const t=Ri();return t?t.format(this.date):ki(this.date,"%l:%M%P")}}function qi(t,e,n){const s=function(t,e){if("Intl"in window&&"RelativeTimeFormat"in window.Intl)try{return new Intl.RelativeTimeFormat(t,{numeric:"auto"})}catch(t){if(!(t instanceof RangeError))throw t}}(t);return s?s.format(e,n):function(t,e){if(0===t)switch(e){case"year":case"quarter":case"month":case"week":return`this ${e}`;case"day":return"today";case"hour":case"minute":return`in 0 ${e}s`;case"second":return"now"}else if(1===t)switch(e){case"year":case"quarter":case"month":case"week":return`next ${e}`;case"day":return"tomorrow";case"hour":case"minute":case"second":return`in 1 ${e}`}else if(-1===t)switch(e){case"year":case"quarter":case"month":case"week":return`last ${e}`;case"day":return"yesterday";case"hour":case"minute":case"second":return`1 ${e} ago`}else if(t>1)switch(e){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return`in ${t} ${e}s`}else if(t<-1)switch(e){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return`${-t} ${e}s ago`}throw new RangeError(`Invalid unit argument for format() '${e}'`)}(e,n)}const Ri=Li({hour:"numeric",minute:"2-digit"});class Wi extends Hi{getFormattedDate(){const t=this.date;if(t)return new _i(t,Ii(this)).toString()}connectedCallback(){Fi.push(this),ji||(Bi(),ji=window.setInterval(Bi,6e4)),super.connectedCallback()}disconnectedCallback(){const t=Fi.indexOf(this);-1!==t&&Fi.splice(t,1),Fi.length||ji&&(clearInterval(ji),ji=null)}}t("R",Wi);const Fi=[];let ji;function Bi(){let t,e,n;for(e=0,n=Fi.length;e<n;e++)t=Fi[e],t.textContent=t.getFormattedDate()||""}window.customElements.get("relative-time")||(window.RelativeTimeElement=Wi,window.customElements.define("relative-time",Wi));class Vi extends Wi{getFormattedDate(){const t=this.getAttribute("format"),e=this.date;if(e)return"micro"===t?new _i(e,Ii(this)).microTimeAgo():new _i(e,Ii(this)).timeAgo()}}window.customElements.get("time-ago")||(window.TimeAgoElement=Vi,window.customElements.define("time-ago",Vi));class Ui extends Wi{getFormattedDate(){const t=this.getAttribute("format"),e=this.date;if(e)return"micro"===t?new _i(e,Ii(this)).microTimeUntil():new _i(e,Ii(this)).timeUntil()}}window.customElements.get("time-until")||(window.TimeUntilElement=Ui,window.customElements.define("time-until",Ui));class zi extends CustomEvent{constructor(t,e){super(t,e),this.relatedTarget=e.relatedTarget}}const Ki=new WeakMap;class Yi{constructor(t,e,n){this.container=t,this.input=e,this.results=n,this.combobox=new li(e,n),this.results.hidden=!0,this.input.setAttribute("autocomplete","off"),this.input.setAttribute("spellcheck","false"),this.interactingWithList=!1,this.onInputChange=function(t,e=0){let n;return function(...s){clearTimeout(n),n=window.setTimeout((()=>{clearTimeout(n),t(...s)}),e)}}(this.onInputChange.bind(this),300),this.onResultsMouseDown=this.onResultsMouseDown.bind(this),this.onInputBlur=this.onInputBlur.bind(this),this.onInputFocus=this.onInputFocus.bind(this),this.onKeydown=this.onKeydown.bind(this),this.onCommit=this.onCommit.bind(this),this.input.addEventListener("keydown",this.onKeydown),this.input.addEventListener("focus",this.onInputFocus),this.input.addEventListener("blur",this.onInputBlur),this.input.addEventListener("input",this.onInputChange),this.results.addEventListener("mousedown",this.onResultsMouseDown),this.results.addEventListener("combobox-commit",this.onCommit)}destroy(){this.input.removeEventListener("keydown",this.onKeydown),this.input.removeEventListener("focus",this.onInputFocus),this.input.removeEventListener("blur",this.onInputBlur),this.input.removeEventListener("input",this.onInputChange),this.results.removeEventListener("mousedown",this.onResultsMouseDown),this.results.removeEventListener("combobox-commit",this.onCommit)}onKeydown(t){if("Escape"===t.key&&this.container.open)this.container.open=!1,t.stopPropagation(),t.preventDefault();else if(t.altKey&&"ArrowUp"===t.key&&this.container.open)this.container.open=!1,t.stopPropagation(),t.preventDefault();else if(t.altKey&&"ArrowDown"===t.key&&!this.container.open){if(!this.input.value.trim())return;this.container.open=!0,t.stopPropagation(),t.preventDefault()}}onInputFocus(){this.fetchResults()}onInputBlur(){this.interactingWithList?this.interactingWithList=!1:this.container.open=!1}onCommit({target:t}){const e=t;if(!(e instanceof HTMLElement)||(this.container.open=!1,e instanceof HTMLAnchorElement))return;const n=e.getAttribute("data-autocomplete-value")||e.textContent;this.container.value=n}onResultsMouseDown(){this.interactingWithList=!0}onInputChange(){this.container.removeAttribute("value"),this.fetchResults()}identifyOptions(){let t=0;for(const e of this.results.querySelectorAll('[role="option"]:not([id])'))e.id=`${this.results.id}-option-${t++}`}fetchResults(){const t=this.input.value.trim();if(!t)return void(this.container.open=!1);const e=this.container.src;if(!e)return;const n=new URL(e,window.location.href),s=new URLSearchParams(n.search.slice(1));s.append("q",t),n.search=s.toString(),this.container.dispatchEvent(new CustomEvent("loadstart")),function(t,e){const n=new XMLHttpRequest;return n.open("GET",e,!0),n.setRequestHeader("Accept","text/fragment+html"),function(t,e){const n=Ki.get(t);n&&n.abort(),Ki.set(t,e);const s=()=>Ki.delete(t),i=function(t){return new Promise(((e,n)=>{t.onload=function(){t.status>=200&&t.status<300?e(t.responseText):n(new Error(t.responseText))},t.onerror=n,t.send()}))}(e);return i.then(s,s),i}(t,n)}(this.input,n.toString()).then((t=>{this.results.innerHTML=t,this.identifyOptions();const e=!!this.results.querySelector('[role="option"]');this.container.open=e,this.container.dispatchEvent(new CustomEvent("load")),this.container.dispatchEvent(new CustomEvent("loadend"))})).catch((()=>{this.container.dispatchEvent(new CustomEvent("error")),this.container.dispatchEvent(new CustomEvent("loadend"))}))}open(){!this.results.hidden||(this.combobox.start(),this.results.hidden=!1)}close(){this.results.hidden||(this.combobox.stop(),this.results.hidden=!0)}}const Xi=new WeakMap;class Ji extends HTMLElement{constructor(){super()}connectedCallback(){const t=this.getAttribute("for");if(!t)return;const e=this.querySelector("input"),n=document.getElementById(t);!(e instanceof HTMLInputElement)||!n||(Xi.set(this,new Yi(this,e,n)),n.setAttribute("role","listbox"))}disconnectedCallback(){const t=Xi.get(this);t&&(t.destroy(),Xi.delete(this))}get src(){return this.getAttribute("src")||""}set src(t){this.setAttribute("src",t)}get value(){return this.getAttribute("value")||""}set value(t){this.setAttribute("value",t)}get open(){return this.hasAttribute("open")}set open(t){t?this.setAttribute("open",""):this.removeAttribute("open")}static get observedAttributes(){return["open","value"]}attributeChangedCallback(t,e,n){if(e===n)return;const s=Xi.get(this);if(s)switch(t){case"open":null===n?s.close():s.open();break;case"value":null!==n&&(s.input.value=n),this.dispatchEvent(new zi("auto-complete-change",{bubbles:!0,relatedTarget:s.input}))}}}function Gi(t){if("clipboard"in navigator)return navigator.clipboard.writeText(t.textContent);const e=getSelection();if(null==e)return Promise.reject(new Error);e.removeAllRanges();const n=document.createRange();return n.selectNodeContents(t),e.addRange(n),document.execCommand("copy"),e.removeAllRanges(),Promise.resolve()}function Qi(t){if("clipboard"in navigator)return navigator.clipboard.writeText(t);const e=document.body;if(!e)return Promise.reject(new Error);const n=function(t){const e=document.createElement("pre");return e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="5px",e.textContent=t,e}(t);return e.appendChild(n),Gi(n),e.removeChild(n),Promise.resolve()}function Zi(t){const e=t.getAttribute("for"),n=t.getAttribute("value");function s(){t.dispatchEvent(new CustomEvent("clipboard-copy",{bubbles:!0}))}if(n)Qi(n).then(s);else if(e){const n="getRootNode"in Element.prototype?t.getRootNode():t.ownerDocument;if(!(n instanceof Document||"ShadowRoot"in window&&n instanceof ShadowRoot))return;const i=n.getElementById(e);i&&function(t){return t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?Qi(t.value):t instanceof HTMLAnchorElement&&t.hasAttribute("href")?Qi(t.href):Gi(t)}(i).then(s)}}function tr(t){const e=t.currentTarget;e instanceof HTMLElement&&Zi(e)}function er(t){if(" "===t.key||"Enter"===t.key){const e=t.currentTarget;e instanceof HTMLElement&&(t.preventDefault(),Zi(e))}}function nr(t){t.currentTarget.addEventListener("keydown",er)}function sr(t){t.currentTarget.removeEventListener("keydown",er)}t("A",Ji),window.customElements.get("auto-complete")||(window.AutocompleteElement=Ji,window.customElements.define("auto-complete",Ji));class ir extends HTMLElement{constructor(){super(),this.addEventListener("click",tr),this.addEventListener("focus",nr),this.addEventListener("blur",sr)}connectedCallback(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.hasAttribute("role")||this.setAttribute("role","button")}get value(){return this.getAttribute("value")||""}set value(t){this.setAttribute("value",t)}}function rr(t){return Array.from(t.querySelectorAll('[role="tablist"] [role="tab"]')).filter((e=>e instanceof HTMLElement&&e.closest(t.tagName)===t))}t("l",ir),window.customElements.get("clipboard-copy")||(window.ClipboardCopyElement=ir,window.customElements.define("clipboard-copy",ir));class or extends HTMLElement{constructor(){super(),this.addEventListener("keydown",(t=>{const e=t.target;if(!(e instanceof HTMLElement)||e.closest(this.tagName)!==this||"tab"!==e.getAttribute("role")&&!e.closest('[role="tablist"]'))return;const n=rr(this),s=n.indexOf(n.find((t=>t.matches('[aria-selected="true"]'))));if("ArrowRight"===t.code){let t=s+1;t>=n.length&&(t=0),ar(this,t)}else if("ArrowLeft"===t.code){let t=s-1;t<0&&(t=n.length-1),ar(this,t)}else"Home"===t.code?(ar(this,0),t.preventDefault()):"End"===t.code&&(ar(this,n.length-1),t.preventDefault())})),this.addEventListener("click",(t=>{const e=rr(this);if(!(t.target instanceof Element)||t.target.closest(this.tagName)!==this)return;const n=t.target.closest('[role="tab"]');n instanceof HTMLElement&&n.closest('[role="tablist"]')&&ar(this,e.indexOf(n))}))}connectedCallback(){for(const t of rr(this))t.hasAttribute("aria-selected")||t.setAttribute("aria-selected","false"),t.hasAttribute("tabindex")||("true"===t.getAttribute("aria-selected")?t.setAttribute("tabindex","0"):t.setAttribute("tabindex","-1"))}}function ar(t,e){const n=rr(t),s=Array.from(t.querySelectorAll('[role="tabpanel"]')).filter((e=>e.closest(t.tagName)===t)),i=n[e],r=s[e];if(t.dispatchEvent(new CustomEvent("tab-container-change",{bubbles:!0,cancelable:!0,detail:{relatedTarget:r}}))){for(const t of n)t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");for(const t of s)t.hidden=!0,!t.hasAttribute("tabindex")&&!t.hasAttribute("data-tab-container-no-tabstop")&&t.setAttribute("tabindex","0");i.setAttribute("aria-selected","true"),i.setAttribute("tabindex","0"),i.focus(),r.hidden=!1,t.dispatchEvent(new CustomEvent("tab-container-changed",{bubbles:!0,detail:{relatedTarget:r}}))}}function cr(t,e){var n,s,i;const r=t.value.slice(0,null!==(n=t.selectionStart)&&void 0!==n?n:void 0),o=t.value.slice(null!==(s=t.selectionEnd)&&void 0!==s?s:void 0);let a=!0;t.contentEditable="true";try{a=document.execCommand("insertText",!1,e)}catch(t){a=!1}if(t.contentEditable="false",a&&!t.value.slice(0,null!==(i=t.selectionStart)&&void 0!==i?i:void 0).endsWith(e)&&(a=!1),!a){try{document.execCommand("ms-beginUndoUnit")}catch(t){}t.value=r+e+o;try{document.execCommand("ms-endUndoUnit")}catch(t){}t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0}))}}function lr(t){const e=t.dataTransfer;if(!e||function(t){return Array.from(t.types).indexOf("Files")>=0}(e)||!fr(e))return;const n=mr(e);if(!n.some(gr))return;t.stopPropagation(),t.preventDefault();const s=t.currentTarget;s instanceof HTMLTextAreaElement&&cr(s,n.map(hr).join(""))}function ur(t){const e=t.dataTransfer;e&&(e.dropEffect="link")}function dr(t){const e=t.clipboardData;if(!e||!fr(e))return;const n=mr(e);if(!n.some(gr))return;t.stopPropagation(),t.preventDefault();const s=t.currentTarget;s instanceof HTMLTextAreaElement&&cr(s,n.map(hr).join(""))}function hr(t){return gr(t)?`\n![](${t})\n`:t}function fr(t){return Array.from(t.types).indexOf("text/uri-list")>=0}function mr(t){return(t.getData("text/uri-list")||"").split("\r\n")}t("B",or),window.customElements.get("tab-container")||(window.TabContainerElement=or,window.customElements.define("tab-container",or)),window.IncludeFragmentElement.prototype.fetch=t=>(t.headers.append("X-Requested-With","XMLHttpRequest"),window.fetch(t));const pr=/\.(gif|png|jpe?g)$/i;function gr(t){return pr.test(t)}function vr(t){const e=t.clipboardData;if(!e||!function(t){return Array.from(t.types).includes("text/plain")}(e))return;const n=t.currentTarget;if(!(n instanceof HTMLTextAreaElement))return;const s=e.getData("text/plain");if(!s||!br(s)||function(t){const e=t.selectionStart||0;return e>1&&"]("===t.value.substring(e-2,e)}(n))return;const i=n.value.substring(n.selectionStart,n.selectionEnd);!i.length||br(i.trim())||(t.stopPropagation(),t.preventDefault(),cr(n,function(t,e){return`[${t}](${e})`}(i,s)))}function br(t){return/^https?:\/\//i.test(t)}function wr(t){const e=t.dataTransfer;if(!e||function(t){return Array.from(t.types).indexOf("Files")>=0}(e))return;const n=Ar(e);if(!n)return;t.stopPropagation(),t.preventDefault();const s=t.currentTarget;s instanceof HTMLTextAreaElement&&cr(s,n)}function Er(t){const e=t.dataTransfer;e&&(e.dropEffect="copy")}function yr(t){if(!t.clipboardData)return;const e=Ar(t.clipboardData);if(!e)return;t.stopPropagation(),t.preventDefault();const n=t.currentTarget;n instanceof HTMLTextAreaElement&&cr(n,e)}function xr(t){return(t.textContent||"").trim().replace(/\|/g,"\\|").replace(/\n/g," ")||"Â "}function Ar(t){if(-1===Array.from(t.types).indexOf("text/html"))return;const e=t.getData("text/html");if(!/<table/i.test(e))return;let n=(new DOMParser).parseFromString(e,"text/html").querySelector("table");if(n=!n||n.closest("[data-paste-markdown-skip]")?null:n,!n)return;const s=function(t){const e=Array.from(t.querySelectorAll("tr")),n=e.shift();if(!n)return"";const s=function(t){return Array.from(t.querySelectorAll("td, th")).map(xr)}(n),i=s.map((()=>"--"));return`\n${s.join(" | ")}\n${i.join(" | ")}\n${e.map((t=>Array.from(t.querySelectorAll("td")).map(xr).join(" | "))).join("\n")}\n\n`}(n);return e.replace(/<meta.*?>/,"").replace(/<table[.\S\s]*<\/table>/,`\n${s}`)}function kr(t){const e=t.clipboardData;if(!e||!function(t){return Array.from(t.types).indexOf("text/x-gfm")>=0}(e))return;const n=t.currentTarget;if(!(n instanceof HTMLTextAreaElement))return;const s=e.getData("text/x-gfm");!s||(t.stopPropagation(),t.preventDefault(),cr(n,s))}var Lr="<unknown>",Tr=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Sr=/\((\S*)(?::(\d+))(?::(\d+))\)/,Mr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Cr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Nr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ir=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,Dr=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Hr(t){const e=t.parentNode;if(null===e||!(e instanceof HTMLElement))throw new Error;let n=0;e instanceof HTMLOListElement&&1!==e.start&&(n=e.start-1);const s=e.children;for(let e=0;e<s.length;++e)if(s[e]===t)return n+e;return n}let Pr=0;function Or(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}const $r={INPUT:t=>t instanceof HTMLInputElement&&t.checked?"[x] ":"[ ] ",CODE(t){const e=t.textContent||"";return t.parentNode&&"PRE"===t.parentNode.nodeName?(t.textContent=`\`\`\`\n${e.replace(/\n+$/,"")}\n\`\`\`\n\n`,t):e.indexOf("`")>=0?`\`\` ${e} \`\``:`\`${e}\``},P(t){const e=document.createElement("p"),n=t.textContent||"";return e.textContent=n.replace(/<(\/?)(pre|strong|weak|em)>/g,"\\<$1$2\\>"),e},STRONG:t=>`**${t.textContent||""}**`,EM:t=>`_${t.textContent||""}_`,DEL:t=>`~${t.textContent||""}~`,BLOCKQUOTE(t){const e=(t.textContent||"").trim().replace(/^/gm,"> "),n=document.createElement("pre");return n.textContent=`${e}\n\n`,n},A(t){const e=t.textContent||"",n=t.getAttribute("href");return/^https?:/.test(e)&&e===n?e:n?`[${e}](${n})`:e},IMG(t){const e=t.getAttribute("alt")||"",n=t.getAttribute("src");if(!n)throw new Error;const s=t.hasAttribute("width")?` width="${Or(t.getAttribute("width")||"")}"`:"",i=t.hasAttribute("height")?` height="${Or(t.getAttribute("height")||"")}"`:"";return s||i?`<img alt="${Or(e)}"${s}${i} src="${Or(n)}">`:`![${e}](${n})`},LI(t){const e=t.parentNode;if(!e)throw new Error;let n="";(function(t){const e=t.childNodes[0],n=t.childNodes[1];return!!(e&&t.childNodes.length<3)&&!("OL"!==e.nodeName&&"UL"!==e.nodeName||n&&(n.nodeType!==Node.TEXT_NODE||(n.textContent||"").trim()))})(t)||(n="OL"===e.nodeName?Pr>0&&!e.previousSibling?`${Hr(t)+Pr+1}\\. `:`${Hr(t)+1}. `:"* ");const s=n.replace(/\S/g," "),i=(t.textContent||"").trim().replace(/^/gm,s),r=document.createElement("pre");return r.textContent=i.replace(s,n),r},OL(t){const e=document.createElement("li");return e.appendChild(document.createElement("br")),t.append(e),t},H1(t){const e=parseInt(t.nodeName.slice(1));return t.prepend(`${Array(e+1).join("#")} `),t},UL:t=>t};$r.UL=$r.OL;for(let t=2;t<=6;++t)$r[`H${t}`]=$r.H1;class _r{constructor(){this.selection=window.getSelection()}closest(t){const e=this.range.startContainer,n=e instanceof Element?e:e.parentElement;return n?n.closest(t):null}get active(){var t;return((null===(t=this.selection)||void 0===t?void 0:t.rangeCount)||0)>0}get range(){var t;return(null===(t=this.selection)||void 0===t?void 0:t.rangeCount)?this.selection.getRangeAt(0):new Range}set range(t){var e,n;null===(e=this.selection)||void 0===e||e.removeAllRanges(),null===(n=this.selection)||void 0===n||n.addRange(t)}get selectionText(){var t;return(null===(t=this.selection)||void 0===t?void 0:t.toString().trim())||""}get quotedText(){return`> ${this.selectionText.replace(/\n/g,"\n> ")}\n\n`}select(t){this.selection&&(this.selection.removeAllRanges(),this.selection.selectAllChildren(t))}insert(t){t.value?t.value=`${t.value}\n\n${this.quotedText}`:t.value=this.quotedText,t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),t.focus(),t.selectionStart=t.value.length,t.scrollTop=t.scrollHeight}}t("Q",_r),t("M",class extends _r{constructor(t="",e){super(),this.scopeSelector=t,this.callback=e}get selectionText(){var t,e;if(!this.selection)return"";const n=function(t,e){const n=t.startContainer;if(!(n&&n.parentNode&&n.parentNode instanceof HTMLElement))throw new Error("the range must start within an HTMLElement");const s=n.parentNode;let i=t.cloneContents();if(e){const t=i.querySelector(e);t&&(i=document.createDocumentFragment(),i.appendChild(t))}Pr=0;const r=s.closest("li");if(s.closest("pre")){const t=document.createElement("pre");t.appendChild(i),i=document.createDocumentFragment(),i.appendChild(t)}else if(r&&r.parentNode&&("OL"===r.parentNode.nodeName&&(Pr=Hr(r)),!i.querySelector("li"))){const t=document.createElement("li");if(!r.parentNode)throw new Error;const e=document.createElement(r.parentNode.nodeName);t.appendChild(i),e.appendChild(t),i=document.createDocumentFragment(),i.appendChild(e)}return i}(this.range,null!==(t=this.scopeSelector)&&void 0!==t?t:"");null===(e=this.callback)||void 0===e||e.call(this,n),function(t){const e=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>t.nodeName in $r&&!function(t){if(t instanceof HTMLAnchorElement&&1===t.childNodes.length){const e=t.childNodes[0];if(e instanceof HTMLImageElement)return e.src===t.href}return!1}(t)&&(function(t){return"IMG"===t.nodeName||null!=t.firstChild}(t)||function(t){return"INPUT"===t.nodeName&&t instanceof HTMLInputElement&&"checkbox"===t.type}(t))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}),n=[];let s=e.nextNode();for(;s;)s instanceof HTMLElement&&n.push(s),s=e.nextNode();n.reverse();for(const t of n)t.replaceWith($r[t.nodeName](t))}(n);const s=document.body;if(!s)return"";const i=document.createElement("div");i.appendChild(n),i.style.cssText="position:absolute;left:-9999px;",s.appendChild(i);let r="";try{const t=document.createRange();t.selectNodeContents(i),this.selection.removeAllRanges(),this.selection.addRange(t),r=this.selection.toString(),this.selection.removeAllRanges(),t.detach()}finally{s.removeChild(i)}return r.trim()}});let qr=null;function Rr(t,e){return`${t}:${e}`}function Wr(t){const[e,n]=t.p.split(".");return{userId:t.u,presenceKey:Rr(t.u,e),connectionCount:Number(n),metadata:t.m||[]}}function Fr(t){return t.startsWith("presence-")}class jr{constructor(){this.presenceItems=new Map}shouldUsePresenceItem(t){const e=this.presenceItems.get(t.presenceKey);return!e||e.connectionCount<=t.connectionCount}addPresenceItem(t){!this.shouldUsePresenceItem(t)||this.presenceItems.set(t.presenceKey,t)}removePresenceItem(t){!this.shouldUsePresenceItem(t)||this.presenceItems.delete(t.presenceKey)}replacePresenceItems(t){this.presenceItems.clear();for(const e of t)this.addPresenceItem(e)}getPresenceItems(){return Array.from(this.presenceItems.values())}}class Br{constructor(){this.presenceChannels=new Map}getPresenceChannel(t){const e=this.presenceChannels.get(t)||new jr;return this.presenceChannels.set(t,e),e}handleMessage(t,e){const n=this.getPresenceChannel(t);switch(e.e){case"pf":n.replacePresenceItems(e.d.map(Wr));break;case"pa":n.addPresenceItem(Wr(e.d));break;case"pr":n.removePresenceItem(Wr(e.d))}return this.getChannelItems(t)}getChannelItems(t){return this.getPresenceChannel(t).getPresenceItems()}clearChannel(t){this.presenceChannels.delete(t)}}const Vr=t("_","_i");function Ur(t){return Object.assign(Object.assign({},t),{isLocal:!0})}class zr{constructor(){this.subscriberMetadata=new Map}setMetadata(t,e){this.subscriberMetadata.set(t,e)}removeSubscribers(t){let e=!1;for(const n of t)e=this.subscriberMetadata.delete(n)||e;return e}getMetadata(t){if(!t){const t=[];let e;for(const n of this.subscriberMetadata.values())for(const s of n)if(Vr in s){const t=Boolean(s[Vr]);e=void 0===e?t:t&&e}else t.push(s);return void 0!==e&&t.push({[Vr]:e?1:0}),t}const e=[],{subscriber:n,markAllAsLocal:s}=t;for(const[t,i]of this.subscriberMetadata){const r=s||t===n?i.map(Ur):i;e.push(...r)}return e}hasSubscribers(){return this.subscriberMetadata.size>0}}class Kr{constructor(){this.metadataByChannel=new Map}setMetadata({subscriber:t,channelName:e,metadata:n}){let s=this.metadataByChannel.get(e);s||(s=new zr,this.metadataByChannel.set(e,s)),s.setMetadata(t,n)}removeSubscribers(t){const e=new Set;for(const[n,s]of this.metadataByChannel)s.removeSubscribers(t)&&e.add(n),s.hasSubscribers()||this.metadataByChannel.delete(n);return e}getChannelMetadata(t,e){const n=this.metadataByChannel.get(t);return(null==n?void 0:n.getMetadata(e))||[]}}async function Yr(t,e){let n;const s=new Promise(((e,s)=>{n=self.setTimeout((()=>s(new Error("timeout"))),t)}));if(!e)return s;try{await Promise.race([s,Jr(e)])}catch(t){throw self.clearTimeout(n),t}}async function Xr(t,e){let n;const s=new Promise((e=>{n=self.setTimeout(e,t)}));if(!e)return s;try{await Promise.race([s,Jr(e)])}catch(t){throw self.clearTimeout(n),t}}function Jr(t){return new Promise(((e,n)=>{const s=new Error("aborted");s.name="AbortError",t.aborted?n(s):t.addEventListener("abort",(()=>n(s)))}))}function Gr(t){return Math.floor(Math.random()*Math.floor(t))}function Qr(t,e){return async function(t,e,n=1/0,s){const i=s?Jr(s):null;for(let r=0;r<e;r++)try{return await(i?Promise.race([t(),i]):t())}catch(t){if("AbortError"===t.name||r===e-1)throw t;const i=1e3*Math.pow(2,r),o=Gr(.1*i);await Xr(Math.min(n,i+o),s)}throw new Error("retry failed")}((()=>async function(t,e,n){const s=new WebSocket(t),i=function(t){return new Promise(((e,n)=>{t.readyState===WebSocket.OPEN?e(t):(t.onerror=()=>{t.onerror=null,t.onopen=null,n(new Error("connect failed"))},t.onopen=()=>{t.onerror=null,t.onopen=null,e(t)})}))}(s);try{return await Promise.race([i,Yr(e,n)]),s}catch(t){throw async function(t){try{(await t).close()}catch(t){}}(i),t}}(t,e.timeout,e.signal)),e.attempts,e.maxDelay,e.signal)}t("Y",Kr);class Zr{constructor(t,e,n){this.socket=null,this.opening=null,this.url=t,this.delegate=e,this.policy=n}async open(){if(this.opening||this.socket)return;this.opening=new AbortController;const t=Object.assign(Object.assign({},this.policy),{signal:this.opening.signal});try{this.socket=await Qr(this.url,t)}catch(t){return void this.delegate.socketDidFinish(this)}finally{this.opening=null}this.socket.onclose=t=>{var e;this.socket=null,this.delegate.socketDidClose(this,t.code,t.reason),(this.delegate.socketShouldRetry?this.delegate.socketShouldRetry(this,t.code):(e=t.code)!==to&&e!==eo)?setTimeout((()=>this.open()),function(t,e){return Math.random()*(e-100)+100}(0,100+(this.delegate.reconnectWindow||50))):this.delegate.socketDidFinish(this)},this.socket.onmessage=t=>{this.delegate.socketDidReceiveMessage(this,t.data)},this.delegate.socketDidOpen(this)}close(t,e){this.opening?(this.opening.abort(),this.opening=null):this.socket&&(this.socket.onclose=null,this.socket.close(t,e),this.socket=null,this.delegate.socketDidClose(this,t,e),this.delegate.socketDidFinish(this))}send(t){this.socket&&this.socket.send(t)}isOpen(){return!!this.socket}}t("ai",Zr);const to=1008,eo=1011;class no{constructor(t){if(this.map=new Map,t)for(const[e,n]of t)this.set(e,n)}get(t){return this.map.get(t)||new Set}set(t,e){let n=this.map.get(t);return n||(n=new Set,this.map.set(t,n)),n.add(e),this}has(t){return this.map.has(t)}delete(t,e){const n=this.map.get(t);if(!n)return!1;if(!e)return this.map.delete(t);const s=n.delete(e);return n.size||this.map.delete(t),s}drain(t){const e=[];for(const n of this.keys())this.delete(n,t)&&!this.has(n)&&e.push(n);return e}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.entries()}clear(){this.map.clear()}get size(){return this.map.size}}class so{constructor(){this.subscriptions=new no,this.signatures=new Map}add(...t){const e=[];for(const{subscriber:n,topic:s}of t)this.subscriptions.has(s.name)||(e.push(s),this.signatures.set(s.name,s)),this.subscriptions.set(s.name,n);return e}delete(...t){const e=[];for(const{subscriber:n,topic:s}of t)this.subscriptions.delete(s.name,n)&&!this.subscriptions.has(s.name)&&(e.push(s),this.signatures.delete(s.name));return e}drain(...t){const e=[];for(const n of t)for(const t of this.subscriptions.drain(n)){const n=this.signatures.get(t);this.signatures.delete(t),e.push(n)}return e}topics(){return this.signatures.values()}topic(t){return this.signatures.get(t)||null}subscribers(t){return this.subscriptions.get(t).values()}}function*io(t,e){for(let n=0;n<t.length;n+=e)yield t.slice(n,n+e)}function ro(t){return new Promise(((e,n)=>{const s=new Error("aborted");s.name="AbortError",t.aborted?n(s):t.addEventListener("abort",(()=>n(s)))}))}async function oo(t,e){let n;const s=new Promise((e=>{n=self.setTimeout(e,t)}));if(!e)return s;try{await Promise.race([s,ro(e)])}catch(t){throw self.clearTimeout(n),t}}function ao(t){return Math.floor(Math.random()*Math.floor(t))}var co,lo;t("X",so),(lo=co||(co={})).Deploy="Alive Redeploy",lo.Reconnect="Alive Reconnect",t("V",class{constructor(t,e,n,s){this.url=t,this.getUrl=e,this.inSharedWorker=n,this.notify=s,this.subscriptions=new so,this.state="online",this.retrying=null,this.connectionCount=0,this.presence=new Br,this.presenceMetadata=new Kr,this.intentionallyDisconnected=!1,this.lastCameOnline=0,this.userId=function(t){const e=t.match(/\/u\/(\d+)\/ws/);return e?+e[1]:0}(t),this.presenceId=`${Math.round(Math.random()*(Math.pow(2,31)-1))}_${Math.round(Date.now()/1e3)}`,this.presenceKey=Rr(this.userId,this.presenceId),this.socket=this.connect()}subscribe(t){const e=this.subscriptions.add(...t);this.sendSubscribe(e);for(const e of t){const t=e.topic.name;!Fr(t)||this.notifyCachedPresence(e.subscriber,t)}}unsubscribe(t){const e=this.subscriptions.delete(...t);this.sendUnsubscribe(e)}unsubscribeAll(...t){const e=this.subscriptions.drain(...t);this.sendUnsubscribe(e);const n=this.presenceMetadata.removeSubscribers(t);this.sendPresenceMetadataUpdate(n)}requestPresence(t,e){for(const n of e)this.notifyCachedPresence(t,n)}notifyCachedPresence(t,e){const n=this.presence.getChannelItems(e);0!==n.length&&this.notifyPresenceChannel(e,n)}updatePresenceMetadata(t){const e=new Set;for(const n of t)this.presenceMetadata.setMetadata(n),e.add(n.channelName);this.sendPresenceMetadataUpdate(e)}sendPresenceMetadataUpdate(t){if(!t.size)return;const e=[];for(const n of t){const t=this.subscriptions.topic(n);t&&e.push(t)}this.sendSubscribe(e)}online(){var t;this.lastCameOnline=Date.now(),this.state="online",null===(t=this.retrying)||void 0===t||t.abort(),this.socket.open()}offline(){var t;this.state="offline",null===(t=this.retrying)||void 0===t||t.abort(),this.socket.close()}shutdown(){this.inSharedWorker&&self.close()}get reconnectWindow(){const t=Date.now()-this.lastCameOnline<6e4;return 0===this.connectionCount||this.intentionallyDisconnected||t?0:1e4}socketDidOpen(){this.intentionallyDisconnected=!1,this.connectionCount++,this.socket.url=this.getUrlWithPresenceId(),this.sendSubscribe(this.subscriptions.topics())}socketDidClose(t,e,n){if(void 0!==this.redeployEarlyReconnectTimeout&&clearTimeout(this.redeployEarlyReconnectTimeout),"Alive Reconnect"===n)this.intentionallyDisconnected=!0;else if("Alive Redeploy"===n){this.intentionallyDisconnected=!0;const t=60*(3+22*Math.random())*1e3;this.redeployEarlyReconnectTimeout=setTimeout((()=>{this.intentionallyDisconnected=!0,this.socket.close(1e3,"Alive Redeploy Early Client Reconnect")}),t)}}socketDidFinish(){"offline"!==this.state&&this.reconnect()}socketDidReceiveMessage(t,e){const n=JSON.parse(e);switch(n.e){case"ack":this.handleAck(n);break;case"msg":this.handleMessage(n)}}handleAck(t){for(const e of this.subscriptions.topics())e.offset=t.off}handleMessage(t){const e=t.ch,n=this.subscriptions.topic(e);if(n){if(n.offset=t.off,"e"in t.data){const n=this.presence.handleMessage(e,t.data);return void this.notifyPresenceChannel(e,n)}t.data.wait||(t.data.wait=0),this.notify(this.subscriptions.subscribers(e),{channel:e,type:"message",data:t.data})}}notifyPresenceChannel(t,e){var n,s;const i=new Map;for(const t of e){const{userId:e,metadata:n,presenceKey:s}=t,r=i.get(e)||{userId:e,isOwnUser:e===this.userId,metadata:[]};if(s!==this.presenceKey){for(const t of n)Vr in t?!1!==r.isIdle&&(r.isIdle=Boolean(t[Vr])):r.metadata.push(t);i.set(e,r)}}for(const e of this.subscriptions.subscribers(t)){const r=this.userId,o=Array.from(i.values()).filter((t=>t.userId!==r)),a=null!==(s=null===(n=i.get(this.userId))||void 0===n?void 0:n.metadata)&&void 0!==s?s:[],c=this.presenceMetadata.getChannelMetadata(t,{subscriber:e,markAllAsLocal:!this.inSharedWorker});this.notify([e],{channel:t,type:"presence",data:[{userId:r,isOwnUser:!0,metadata:[...a,...c]},...o]})}}async reconnect(){if(!this.retrying)try{this.retrying=new AbortController;const t=await async function(t,e,n=1/0,s){const i=s?ro(s):null;for(let r=0;r<e;r++)try{return await(i?Promise.race([t(),i]):t())}catch(t){if("AbortError"===t.name||r===e-1)throw t;const i=1e3*Math.pow(2,r),o=ao(.1*i);await oo(Math.min(n,i+o),s)}throw new Error("retry failed")}(this.getUrl,1/0,6e4,this.retrying.signal);t?(this.url=t,this.socket=this.connect()):this.shutdown()}catch(t){if("AbortError"!==t.name)throw t}finally{this.retrying=null}}getUrlWithPresenceId(){const t=new URL(this.url,self.location.origin);return t.searchParams.set("shared",this.inSharedWorker.toString()),t.searchParams.set("p",`${this.presenceId}.${this.connectionCount}`),t.toString()}connect(){const t=new Zr(this.getUrlWithPresenceId(),this,{timeout:4e3,attempts:7});return t.open(),t}sendSubscribe(t){const e=Array.from(t);for(const t of io(e,25)){const e={};for(const n of t)Fr(n.name)?e[n.signed]=JSON.stringify(this.presenceMetadata.getChannelMetadata(n.name)):e[n.signed]=n.offset;this.socket.send(JSON.stringify({subscribe:e}))}}sendUnsubscribe(t){const e=Array.from(t,(t=>t.signed));for(const t of io(e,25))this.socket.send(JSON.stringify({unsubscribe:t}));for(const e of t)Fr(e.name)&&this.presence.clearChannel(e.name)}});class uo{constructor(t,e){this.name=t,this.signed=e,this.offset=""}static parse(t){const[e,n]=t.split("--");if(!e||!n)return null;const s=JSON.parse(atob(e));return s.c&&s.t?new uo(s.c,t):null}}t("W",uo);const ho=new WeakSet;const fo=new WeakMap;class mo{constructor(t,e){this.element=t,this.type=e,this.element.addEventListener(this.type,this),fo.get(this.element).set(this.type,this)}set(t){"function"==typeof t?this.handleEvent=t.bind(this.element):"object"==typeof t&&"function"==typeof t.handleEvent?this.handleEvent=t.handleEvent.bind(t):(this.element.removeEventListener(this.type,this),fo.get(this.element).delete(this.type))}static for(t){fo.has(t.element)||fo.set(t.element,new Map);const e=t.attributeName.slice(2),n=fo.get(t.element);return n.has(e)?n.get(e):new mo(t.element,e)}}const po=new WeakMap,go=new WeakMap,vo=new WeakMap;class bo{constructor(t,e,n){this.strings=t,this.values=e,this.processor=n}get template(){if(po.has(this.strings))return po.get(this.strings);{const t=document.createElement("template"),e=this.strings.length-1;return t.innerHTML=this.strings.reduce(((t,n,s)=>t+n+(s<e?`{{ ${s} }}`:"")),""),po.set(this.strings,t),t}}renderInto(t){const e=this.template;if(go.get(t)!==e){go.set(t,e);const n=new Te(e,this.values,this.processor);return vo.set(t,n),void(t instanceof ve?t.replace(...n.children):t.appendChild(n))}vo.get(t).update(this.values)}}const wo=be((function(t,e){(function(t,e){return!!function(t){return ho.has(t)}(e)&&(e(t),!0)})(t,e)||Ee(t,e)||function(t,e){return!!(t instanceof he&&t.attributeName.startsWith("on"))&&(mo.for(t).set(e),t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),!0)}(t,e)||function(t,e){return e instanceof bo&&t instanceof ve&&(e.renderInto(t),!0)}(t,e)||function(t,e){return e instanceof DocumentFragment&&t instanceof ve&&(e.childNodes.length&&t.replace(...e.childNodes),!0)}(t,e)||function(t,e){if(!function(t){return"object"==typeof t&&Symbol.iterator in t}(e))return!1;if(t instanceof ve){const n=[];for(const t of e)if(t instanceof bo){const e=document.createDocumentFragment();t.renderInto(e),n.push(...e.childNodes)}else t instanceof DocumentFragment?n.push(...t.childNodes):n.push(String(t));return n.length&&t.replace(...n),!0}return t.value=Array.from(e).join(" "),!0}(t,e)||we(t,e)}));t("a1",((...t)=>{const e=(t=>e=>{if(!(e instanceof ve))return;const n=document.createElement("template");n.innerHTML=t;const s=document.importNode(n.content,!0);e.replace(...s.childNodes)})(...t);return ho.add(e),e}));var Eo,yo,xo,Ao,ko=function(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},Lo=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},To=function(t,e){var n=function n(s){"pagehide"!==s.type&&"hidden"!==document.visibilityState||(t(s),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},So=function(t){addEventListener("pageshow",(function(e){e.persisted&&t(e)}),!0)},Mo="function"==typeof WeakSet?new WeakSet:new Set,Co=function(t,e,n){var s;return function(){e.value>=0&&(n||Mo.has(e)||"hidden"===document.visibilityState)&&(e.delta=e.value-(s||0),(e.delta||void 0===s)&&(s=e.value,t(e)))}},No=-1,Io=function(){return"hidden"===document.visibilityState?0:1/0},Do=function(){To((function(t){var e=t.timeStamp;No=e}),!0)},Ho=function(){return No<0&&(No=Io(),Do(),So((function(){setTimeout((function(){No=Io(),Do()}),0)}))),{get firstHiddenTime(){return No}}},Po=t("a3",(function(t,e){var n,s=Ho(),i=ko("FCP"),r=function(t){"first-contentful-paint"===t.name&&(a&&a.disconnect(),t.startTime<s.firstHiddenTime&&(i.value=t.startTime,i.entries.push(t),Mo.add(i),n()))},o=performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=o?null:Lo("paint",r);(o||a)&&(n=Co(t,i,e),o&&r(o),So((function(s){i=ko("FCP"),n=Co(t,i,e),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-s.timeStamp,Mo.add(i),n()}))}))})))})),Oo=!1,$o=-1,_o=(t("a2",(function(t,e){Oo||(Po((function(t){$o=t.value})),Oo=!0);var n,s=function(e){$o>-1&&t(e)},i=ko("CLS",0),r=0,o=[],a=function(t){if(!t.hadRecentInput){var e=o[0],s=o[o.length-1];r&&t.startTime-s.startTime<1e3&&t.startTime-e.startTime<5e3?(r+=t.value,o.push(t)):(r=t.value,o=[t]),r>i.value&&(i.value=r,i.entries=o,n())}},c=Lo("layout-shift",a);c&&(n=Co(s,i,e),To((function(){c.takeRecords().map(a),n()})),So((function(){r=0,$o=-1,i=ko("CLS",0),n=Co(s,i,e)})))})),{passive:!0,capture:!0}),qo=new Date,Ro=function(t,e){Eo||(Eo=e,yo=t,xo=new Date,jo(removeEventListener),Wo())},Wo=function(){if(yo>=0&&yo<xo-qo){var t={entryType:"first-input",name:Eo.type,target:Eo.target,cancelable:Eo.cancelable,startTime:Eo.timeStamp,processingStart:Eo.timeStamp+yo};Ao.forEach((function(e){e(t)})),Ao=[]}},Fo=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?(n=e,s=t,i=function(){Ro(n,s),o()},r=function(){o()},o=function(){removeEventListener("pointerup",i,_o),removeEventListener("pointercancel",r,_o)},addEventListener("pointerup",i,_o),addEventListener("pointercancel",r,_o)):Ro(e,t)}var n,s,i,r,o},jo=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,Fo,_o)}))};t("a4",(function(t,e){var n,s=Ho(),i=ko("FID"),r=function(t){t.startTime<s.firstHiddenTime&&(i.value=t.processingStart-t.startTime,i.entries.push(t),Mo.add(i),n())},o=Lo("first-input",r);n=Co(t,i,e),o&&To((function(){o.takeRecords().map(r),o.disconnect()}),!0),o&&So((function(){var s;i=ko("FID"),n=Co(t,i,e),Ao=[],yo=-1,Eo=null,jo(addEventListener),s=r,Ao.push(s),Wo()}))})),t("a5",(function(t,e){var n,s=Ho(),i=ko("LCP"),r=function(t){var e=t.startTime;e<s.firstHiddenTime&&(i.value=e,i.entries.push(t)),n()},o=Lo("largest-contentful-paint",r);if(o){n=Co(t,i,e);var a=function(){Mo.has(i)||(o.takeRecords().map(r),o.disconnect(),Mo.add(i),n())};["keydown","click"].forEach((function(t){addEventListener(t,a,{once:!0,capture:!0})})),To(a,!0),So((function(s){i=ko("LCP"),n=Co(t,i,e),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-s.timeStamp,Mo.add(i),n()}))}))}))}})),t("a6",(function(t){var e,n=ko("TTFB");e=function(){try{var e=performance.getEntriesByType("navigation")[0]||function(){var t=performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();if(n.value=n.delta=e.responseStart,n.value<0)return;n.entries=[e],t(n)}catch(t){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)})),t("aa","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{});var Bo=Object.defineProperty,Vo=(t,e)=>Bo(t,"name",{value:e,configurable:!0});const Uo=new Map;function zo(t){for(const e of Uo.keys())if(customElements.get(e)||t.querySelector(e)||t.matches(e)){for(const t of Uo.get(e)||[])t();Uo.delete(e)}}Vo(zo,"scan");let Ko=!1;function Yo(){Ko=!0,zo(document.body),new MutationObserver((t=>{if(Uo.size)for(const e of t)for(const t of e.addedNodes)t instanceof Element&&zo(t)})).observe(document,{subtree:!0,childList:!0})}function Xo(t,e){Uo.has(t)||Uo.set(t,[]),Uo.get(t).push(e),"interactive"===document.readyState||"complete"===document.readyState?Ko?zo(document.body):Yo():document.addEventListener("DOMContentLoaded",Yo,{once:!0})}Vo(Yo,"prepare"),Vo(Xo,"whenSeen"),t("ag",it((t=>e=>{if(void 0===t&&e instanceof kt){if(t!==e.value){const t=e.committer.name;e.committer.element.removeAttribute(t)}}else e.setValue(t)})));const Jo=(t,e)=>{const n=t.startNode.parentNode,s=void 0===e?t.endNode:e.startNode,i=n.insertBefore(gt(),s);n.insertBefore(gt(),s);const r=new Lt(t.options);return r.insertAfterNode(i),r},Go=(t,e)=>(t.setValue(e),t.commit(),t),Qo=(t,e,n)=>{const s=t.startNode.parentNode,i=n?n.startNode:t.endNode,r=e.endNode.nextSibling;r!==i&&((t,e,n=null,s=null)=>{for(;e!==n;){const n=e.nextSibling;t.insertBefore(e,s),e=n}})(s,e.startNode,r,i)},Zo=t=>{at(t.startNode.parentNode,t.startNode,t.endNode.nextSibling)},ta=(t,e,n)=>{const s=new Map;for(let i=e;i<=n;i++)s.set(t[i],i);return s},ea=new WeakMap,na=new WeakMap;t("ah",it(((t,e,n)=>{let s;return void 0===n?n=e:void 0!==e&&(s=e),e=>{if(!(e instanceof Lt))throw new Error("repeat can only be used in text bindings");const i=ea.get(e)||[],r=na.get(e)||[],o=[],a=[],c=[];let l=0;for(const e of t)c[l]=s?s(e,l):l,a[l]=n(e,l),l++;let u,d,h=0,f=i.length-1,m=0,p=a.length-1;for(;h<=f&&m<=p;)if(null===i[h])h++;else if(null===i[f])f--;else if(r[h]===c[m])o[m]=Go(i[h],a[m]),h++,m++;else if(r[f]===c[p])o[p]=Go(i[f],a[p]),f--,p--;else if(r[h]===c[p])o[p]=Go(i[h],a[p]),Qo(e,i[h],o[p+1]),h++,p--;else if(r[f]===c[m])o[m]=Go(i[f],a[m]),Qo(e,i[f],i[h]),f--,m++;else if(void 0===u&&(u=ta(c,m,p),d=ta(r,h,f)),u.has(r[h]))if(u.has(r[f])){const t=d.get(c[m]),n=void 0!==t?i[t]:null;if(null===n){const t=Jo(e,i[h]);Go(t,a[m]),o[m]=t}else o[m]=Go(n,a[m]),Qo(e,n,i[h]),i[t]=null;m++}else Zo(i[f]),f--;else Zo(i[h]),h++;for(;m<=p;){const t=Jo(e,o[p+1]);Go(t,a[m]),o[m++]=t}for(;h<=f;){const t=i[h++];null!==t&&Zo(t)}ea.set(e,o),na.set(e,c)}})))}}}));